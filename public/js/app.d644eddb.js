(function(t){function e(e){for(var i,s,o=e[0],c=e[1],l=e[2],u=0,m=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],i=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(i=!1)}i&&(n.splice(e--,1),t=o(o.s=r[0]))}return t}var i={},a={app:0},n=[];function s(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"31b4f0c2"}[t]+".js"}function o(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(t){var e=[],r=a[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,i){r=a[t]=[e,i]}));e.push(r[2]=i);var n,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=s(t);var l=new Error;n=function(e){c.onerror=c.onload=null,clearTimeout(u);var r=a[t];if(0!==r){if(r){var i=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",l.name="ChunkLoadError",l.type=i,l.request=n,r[1](l)}a[t]=void 0}};var u=setTimeout((function(){n({type:"timeout",target:c})}),12e4);c.onerror=c.onload=n,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=i,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(r,i,function(e){return t[e]}.bind(null,i));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},1:function(t,e){},2668:function(t,e,r){"use strict";var i=r("2eb2"),a=r.n(i);a.a},"2eb2":function(t,e,r){},4678:function(t,e,r){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=n(t);return r(e)}function n(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=n,t.exports=a,a.id="4678"},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("4de4"),r("d81d"),r("13d5"),r("fb6a"),r("a9e3"),r("d3b7"),r("25f0");var i=r("2b0e"),a=r("c1df"),n=r.n(a);i["default"].filter("progressBar",(function(t){var e=t.reduce((function(t,e){return e.isDone?++t:t}),0);return e?Math.round(e/t.length*100)+"%":"0%"})),i["default"].filter("formatNum",(function(t){return Number(t).toLocaleString()})),i["default"].filter("formatTime",(function(t){return n()(t).fromNow()})),i["default"].filter("capitalize",(function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""})),i["default"].filter("toUSD",(function(t){return"$".concat(t)})),i["default"].filter("pluck",(function(t,e){return t.map((function(t){return t[e]}))})),i["default"].filter("isMember",(function(t,e){var r=e.filter((function(e){return e._id===t._id}));return r.length>0?"✔️":""}));var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper",attrs:{id:"app"}},[r("transition",{attrs:{name:"component-fade",mode:"out-in"}},[r("router-view")],1),r("div",{class:{overlay:t.overlay},on:{click:function(e){return e.target!==e.currentTarget?null:t.hideOverlay(e)}}})],1)},o=[],c={computed:{overlay:function(){return this.$store.getters.overlay}},methods:{hideOverlay:function(){this.$store.commit("toggleOverlay",!1)}},components:{}},l=c,u=(r("5c0b"),r("2877")),d=Object(u["a"])(l,s,o,!1,null,null,null),m=d.exports,h=r("9483");Object(h["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var p=r("8c4f"),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home-container"},[r("fixed-header"),r("main",[r("section",{staticClass:"trial-heading"},[r("div",[t._m(0),r("router-link",{staticClass:"trial-main",attrs:{to:"/board"}},[t._v("Try it free")])],1)]),t._m(1),t._m(2),t._m(3)])],1)},g=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h2",[r("span",[t._v("Everything Starts With")]),r("span",[t._v("A Great Kanban")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"jumbo-white"},[i("div",{staticClass:"img-hero-container"},[i("img",{attrs:{src:r("dc48"),alt:""}})]),i("div",[i("h2",[t._v("Real-time communication and full transparency")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"jumbo-gray"},[r("div",[r("h3",[t._v("Items are represented visually on a kanban board, allowing team members to see the state of every piece of work at any time.")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"jumbo-white"},[i("div",[i("h2",[t._v("Probably the best tool for agile software development")])]),i("div",{staticClass:"img-hero-container"},[i("img",{attrs:{src:r("6170"),alt:""}})])])}],b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{ref:"fixedHeader",staticClass:"fixed-header"},[i("div",{ref:"fixedHeaderLogo",staticClass:"logo"},[i("img",{attrs:{src:r("81a5")}}),i("h1",[t._v("Treecket")])]),i("nav",[i("router-link",{attrs:{to:"/"}},[t._v("Home")]),i("router-link",{attrs:{to:"/board"}},[t._v("Boards")]),i("a",{attrs:{href:"https://www.urbandictionary.com/define.php?term=FAQ",target:"_blank"}},[t._v("FAQ")]),i("a",{attrs:{href:"https://www.google.com/covid19/",target:"_blank"}},[t._v("COVID-19")])],1),i("div",{staticClass:"user-action"},[t.loggedInUser?i("div",{staticClass:"logged-in-user-options"},[i("router-link",{attrs:{to:"/login"}},[i("span",[t._v("My Account")]),i("avatar",{staticClass:"user-avatar",attrs:{username:t.loggedInUser.fullName,src:t.loggedInUser.imgSrc,size:35,color:"#fff"}})],1)],1):i("div",{staticClass:"user-options"},[i("router-link",{staticClass:"cancel-button",attrs:{to:"/login"}},[t._v("Login")]),i("router-link",{staticClass:"add-button",attrs:{to:"/signup"}},[t._v("Signup")])],1),i("transition",{attrs:{name:"fall"}},[t.hiddenTrial?i("router-link",{staticClass:"trial-secondary",attrs:{to:"/board"}},[t._v("Try it free")]):t._e()],1)],1)])},v=[],k=r("4a89"),C=r.n(k),y={name:"BoardPreview",data:function(){return{loggedInUser:this.$store.getters.loggedInUser,hiddenTrial:!1}},mounted:function(){this.onScroll(),window.addEventListener("scroll",this.onScroll)},destroyed:function(){window.removeEventListener("scroll",this.onScroll,!1)},methods:{onScroll:function(){document.body.scrollTop>100||document.documentElement.scrollTop>100?(this.$refs.fixedHeader.style.height="70px",this.$refs.fixedHeader.style.boxShadow="0 2px 7px rgba(9, 33, 66, 0.08)",this.$refs.fixedHeaderLogo.style.transform="translateX(-50%) scale(1)",this.$refs.fixedHeaderLogo.style.marginBottom="17.5px",this.$refs.fixedHeaderLogo.style.bottom="0",document.body.scrollTop>350||document.documentElement.scrollTop>350?this.hiddenTrial=!0:this.hiddenTrial=!1):(this.hiddenTrial=!1,this.$refs.fixedHeader.style.height="120px",this.$refs.fixedHeader.style.boxShadow="none",this.$refs.fixedHeaderLogo.style.transform="translateX(-50%) scale(1.3)")}},components:{Avatar:C.a}},w=y,A=Object(u["a"])(w,b,v,!1,null,null,null),T=A.exports,x={name:"Home",components:{FixedHeader:T}},j=x,B=Object(u["a"])(j,f,g,!1,null,"1db75037",null),$=B.exports,I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"boards-list"},[r("fixed-header"),t._m(0),t.showAddBoard?r("add-board",{on:{toggleAddBoard:t.toggleAddBoard}}):t._e(),t.boards?r("section",[r("button",{staticClass:"add-board-btn",on:{click:t.toggleAddBoard}},[r("i",{staticClass:"fas fa-plus"}),t._v(" Create Board")]),t._l(t.boards,(function(t){return r("board-preview",{key:t._id,attrs:{board:t}})}))],2):t._e()],1)},E=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"boards-list-header"},[r("h2",[r("i",{staticClass:"fas fa-th-large"}),t._v(" Boards")])])}],D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.board._id?r("router-link",{staticClass:"board-preview",style:{background:t.board.background},attrs:{to:"board/"+t.board._id}},[r("div",[t._v(t._s(t.board.title))])]):t._e()},S=[],M={name:"BoardPreview",props:{board:{type:Object,require:!0}}},O=M,G=Object(u["a"])(O,D,S,!1,null,null,null),N=G.exports,P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-board"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.boardPrefs.title,expression:"boardPrefs.title"}],attrs:{type:"text",placeholder:"Add board title",maxlength:"36"},domProps:{value:t.boardPrefs.title},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addBoard(e)},input:function(e){e.target.composing||t.$set(t.boardPrefs,"title",e.target.value)}}}),r("button",{staticClass:"save-button",on:{click:t.addBoard}},[t._v("Save")]),r("button",{staticClass:"cancel-button",on:{click:t.cancelAddBoard}},[t._v("Cancel")])])},U=[],L=(r("99af"),r("96cf"),r("1da1")),R=r("2f62"),F={login:Q,logout:W,signup:V,getUsers:K,getById:z,remove:q,update:H};function z(t){return kt.get("user/".concat(t))}function q(t){return kt.delete("user/".concat(t))}function H(t){return kt.put("user/".concat(t._id),t)}function Q(t){return J.apply(this,arguments)}function J(){return J=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,kt.post("auth/login",e);case 2:return r=t.sent,t.abrupt("return",Z(r));case 4:case"end":return t.stop()}}),t)}))),J.apply(this,arguments)}function V(t){return Y.apply(this,arguments)}function Y(){return Y=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,kt.post("auth/signup",e);case 2:return r=t.sent,t.abrupt("return",Z(r));case 4:case"end":return t.stop()}}),t)}))),Y.apply(this,arguments)}function W(){return X.apply(this,arguments)}function X(){return X=Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,kt.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return t.stop()}}),t)}))),X.apply(this,arguments)}function K(t){return kt.get("user/?txt=".concat(t.txt),t)}function Z(t){return sessionStorage.setItem("user",JSON.stringify(t)),t}var tt=null;sessionStorage.user&&(tt=JSON.parse(sessionStorage.user));var et,rt={state:{loggedInUser:tt,users:[]},getters:{users:function(t){return t.users},loggedInUser:function(t){return t.loggedInUser}},mutations:{setUser:function(t,e){var r=e.user;t.loggedInUser=r},setUsers:function(t,e){var r=e.users;t.users=r},removeUser:function(t,e){var r=e.userId;t.users=t.users.filter((function(t){return t._id!==r}))}},actions:{login:function(t,e){return Object(L["a"])(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.userCred,r.next=3,F.login(i);case 3:return a=r.sent,t.commit({type:"setUser",user:a}),r.abrupt("return",a);case 6:case"end":return r.stop()}}),r)})))()},signup:function(t,e){return Object(L["a"])(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.userCred,r.next=3,F.signup(i);case 3:return a=r.sent,t.commit({type:"setUser",user:a}),r.abrupt("return",a);case 6:case"end":return r.stop()}}),r)})))()},logout:function(t){return Object(L["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F.logout();case 2:t.commit({type:"setUsers",users:[]}),t.commit({type:"setUser",user:null});case 4:case"end":return e.stop()}}),e)})))()},loadUsers:function(t,e){return Object(L["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,F.getUsers(e);case 2:i=r.sent,t.commit({type:"setUsers",users:i});case 4:case"end":return r.stop()}}),r)})))()},removeUser:function(t,e){return Object(L["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.userId,r.next=3,F.remove(i);case 3:t.commit({type:"removeUser",userId:i});case 4:case"end":return r.stop()}}),r)})))()},updateUser:function(t,e){return Object(L["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.user,r.next=3,F.update(i);case 3:i=r.sent,t.commit({type:"setUser",user:i});case 5:case"end":return r.stop()}}),r)})))()}}},it={state:{overlay:!1,boards:null,currBoard:null,filterBy:{txt:""},userMessage:""},getters:{boards:function(t){return t.boards},currBoard:function(t){return t.currBoard},overlay:function(t){return t.overlay},labels:function(t){return t.currBoard.labels},userMessage:function(t){return t.userMessage}},mutations:{setBoards:function(t,e){var r=e.boards;t.boards=r},setBoard:function(t,e){var r=e.board;t.currBoard=r},addBoard:function(t,e){var r=e.board;t.boards.push(r)},addTicket:function(t,e){var r=e.ticket;t.board.group.ticket.push(r)},setFilterBy:function(t,e){var r=e.filterBy;t.filterBy=r},toggleOverlay:function(t,e){t.overlay=e},setUserMessage:function(t,e){var r=e.msg;t.userMessage=r}},actions:{loadBoards:function(t){return Object(L["a"])(regeneratorRuntime.mark((function e(){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Dt.query();case 3:i=e.sent,r({type:"setBoards",boards:i});case 5:case"end":return e.stop()}}),e)})))()},loadBoard:function(t,e){return Object(L["a"])(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=t.commit,r.next=3,Dt.getById(e);case 3:a=r.sent,i({type:"setBoard",board:a});case 5:case"end":return r.stop()}}),r)})))()},addBoard:function(t,e){return Object(L["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=t.dispatch,t.commit,t.state,r.prev=1,r.next=4,Dt.addBoard(e);case 4:i("loadBoards"),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](1),console.log("Had issue adding new board",{err:r.t0});case 10:case"end":return r.stop()}}),r,null,[[1,7]])})))()},updateBoard:function(t,e){return Object(L["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=t.commit,t.state,i({type:"setBoard",board:e}),r.prev=2,r.next=5,Dt.update(e);case 5:r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](2),console.log("ERROR IN UPDATE BOARD (STORE):",r.t0);case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()}}},at=r("8055"),nt=r.n(at),st="/",ot={setup:ct,terminate:lt,on:ut,off:dt,emit:mt};function ct(){et=nt()(st)}function lt(){et=null}function ut(t,e){et.on(t,e)}function dt(t,e){et.off(t,e)}function mt(t,e){et.emit(t,e)}var ht={state:{},getters:{},mutations:{},actions:{sendUpdateBoardMsg:function(t,e){var r=e.msg;ot.emit("sendMsg",r)}}};i["default"].use(R["a"]);var pt=new R["a"].Store({strict:!1,state:{},mutations:{},actions:{},modules:{userStore:rt,boardStore:it,socketStore:ht}}),ft=r("bc3a"),gt=r.n(ft),bt="/api/",vt=gt.a.create({withCredentials:!0}),kt={get:function(t,e){return Ct(t,"GET",e)},post:function(t,e){return Ct(t,"POST",e)},put:function(t,e){return Ct(t,"PUT",e)},delete:function(t,e){return Ct(t,"DELETE",e)}};function Ct(t){return yt.apply(this,arguments)}function yt(){return yt=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r,i,a,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:"get",i=n.length>2&&void 0!==n[2]?n[2]:null,t.prev=2,t.next=5,vt({url:"".concat(bt).concat(e),method:r,data:i});case 5:return a=t.sent,t.abrupt("return",a.data);case 9:throw t.prev=9,t.t0=t["catch"](2),401===t.t0.response.status&&Fn.push("/"),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])}))),yt.apply(this,arguments)}r("4160"),r("caad"),r("b64b"),r("ac1f"),r("2532"),r("466d"),r("159b");var wt=r("53ca"),_t=r("2ef0"),At=r.n(_t),Tt={makeId:jt,srcType:Bt,getYoutubeId:$t,getIframeSrc:It,cloneObj:xt};function xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",r=At.a.cloneDeep(t);return function t(e,r){Object.keys(e).forEach((function(i){i===r&&(e[i]=jt()),e[i]&&"object"===Object(wt["a"])(e[i])&&t(e[i],r)}))}(r,e),r}function jt(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()}function Bt(t){return t.includes("jpg")||t.includes("png")||t.includes("gif")||t.includes("svg")?"img":t.includes("embed")||t.includes("watch")||t.includes("mp4")?"video":"link"}function $t(t){var e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,r=t.match(e);return r&&11===r[2].length?r[2]:null}function It(t){var e=this.getYoutubeId(t);return"https://www.youtube.com/embed/".concat(e)}var Et=null;sessionStorage.user&&(Et=JSON.parse(sessionStorage.user));var Dt={query:St,getById:Mt,update:Ot,getNewBoard:Vt,addBoard:Gt,getNewTicket:Qt,getNewGroup:Jt,getNewChecklist:qt,getNewChecklistItem:Ht,getNewComment:Ut,getAllowLabel:Lt,getNewAttachment:Rt,getNewActivity:zt,cloneTicket:Nt,cloneGroup:Pt};function St(t){return kt.get("board")}function Mt(t){return kt.get("board/".concat(t))}function Ot(t){return kt.put("board/".concat(t._id),t)}function Gt(t){return kt.post("board",t)}function Nt(t){return Tt.cloneObj(t)}function Pt(t){return Tt.cloneObj(t)}function Ut(t){return{id:Tt.makeId(),txt:t,createdAt:Date.now(),by:Ft()}}function Lt(t){return t.id=Tt.makeId(),t}function Rt(t){var e=Tt.srcType(t),r="img"===e?"img":"video"===e?"video":"link";return{id:Tt.makeId(),type:r,src:t}}function Ft(){return Et?{_id:Et._id,fullName:Et.fullName,imgSrc:Et.imgSrc}:{_id:"Guest",fullName:"Guest",imgSrc:"http://res.cloudinary.com/dkdsymsli/image/upload/v1595713140/dklfuu3fq5kcng4qqpfv.png"}}function zt(t,e){return{id:Tt.makeId(),txt:t,createdAt:Date.now(),ticketId:e,by:Ft()}}function qt(){return{id:Tt.makeId(),title:"Checklist",items:[]}}function Ht(t){return{id:Tt.makeId(),txt:t,isDone:!1}}function Qt(t){return{id:Tt.makeId(),title:t,cover:!0,description:"",color:"#fff",members:[],labels:[],createdAt:Date.now(),by:Ft(),comments:[],checklists:[],attachments:[]}}function Jt(t){return{id:Tt.makeId(),title:t,color:"#eeeeee",tickets:[]}}function Vt(t){return{title:t.title,background:t.background,createdAt:Date.now(),members:[],labels:[{id:Tt.makeId(),color:"",title:""},{id:Tt.makeId(),color:"#F2D600",title:""},{id:Tt.makeId(),color:"#FF9F1A",title:""},{id:Tt.makeId(),color:"#EB5A46",title:""},{id:Tt.makeId(),color:"#C377E0",title:""},{id:Tt.makeId(),color:"#0079BF",title:""}],activities:[],groups:[{id:Tt.makeId(),title:"To Do",color:"#eeeeee",tickets:[]},{id:Tt.makeId(),title:"In Progress",color:"#eeeeee",tickets:[]},{id:Tt.makeId(),title:"Done",color:"#eeeeee",tickets:[]}]}}var Yt,Wt,Xt,Kt,Zt,te,ee={name:"AddBoard",props:["board"],data:function(){return{boardPrefs:{title:"",background:"#0079bf"}}},methods:{addBoard:function(){var t=Dt.getNewBoard(this.boardPrefs);this.$store.dispatch("addBoard",t),this.$emit("toggleAddBoard")},cancelAddBoard:function(){this.$emit("toggleAddBoard")}}},re=ee,ie=Object(u["a"])(re,P,U,!1,null,null,null),ae=ie.exports,ne={name:"BoardList",data:function(){return{showAddBoard:!1}},created:function(){this.$store.dispatch("loadBoards")},computed:{boards:function(){return this.$store.getters.boards}},methods:{toggleAddBoard:function(){this.showAddBoard=!this.showAddBoard}},components:{BoardPreview:N,AddBoard:ae,FixedHeader:T}},se=ne,oe=Object(u["a"])(se,I,E,!1,null,null,null),ce=oe.exports,le=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.currBoard?r("div",{staticClass:"board-details",style:{background:t.background}},[r("board-header",{attrs:{user:t.loggedInUser}}),r("board-controls",{attrs:{boardTitle:t.currBoard.title,boardMembers:t.currBoard.members,systemUsers:t.systemUsers,board:t.currBoard},on:{updateBoardTitle:t.updateBoardTitle,loadUsers:t.loadUsers,toggleMember:t.toggleMember,showDashboard:function(e){t.show.dashboard=!0},showMenu:function(e){t.show.menu=!t.show.menu}}}),r("main",{directives:[{name:"dragscroll",rawName:"v-dragscroll:firstchilddrag.x",arg:"firstchilddrag",modifiers:{x:!0}}],staticClass:"groups-container",on:{dragscrollstart:t.toggleScrollCursor,dragscrollend:t.toggleScrollCursor}},[r("Container",{attrs:{"drag-class":"col-ghost","drop-class":"col-ghost-drop","non-drag-area-selector":".add-ticket-btn",orientation:"horizontal","get-child-payload":t.getGroupPayload,"drag-handle-selector":".ticket-group-header"},on:{drop:function(e){return t.onGroupDrop(e)}}},t._l(t.currBoard.groups,(function(e,i){return r("Draggable",{key:e._id},[r("ticket-group",{attrs:{group:e,labels:t.currBoard.labels,showFullLabels:t.show.fullLabel,groupIdx:i},on:{addTicket:t.addTicket,updateTickets:t.updateTickets,updateGroup:t.updateGroup,changeLabelsDisplay:t.changeLabelsDisplay,cloneGroup:t.cloneGroup,deleteGroup:t.deleteGroup,deleteTicket:t.deleteTicket}})],1)})),1),r("add-group",{on:{addGroup:t.addGroup}})],1),r("transition",{attrs:{name:"slide-up"}},[t.selectedTicket?r("ticket-details",{attrs:{ticket:t.selectedTicket,ticketIdx:t.selectedTicketIdx,groupId:t.selectedGroupId,user:t.loggedInUser,boardMembers:t.currBoard.members,labels:t.currBoard.labels,ticketActivities:t.ticketActivities,boardGroupsSummary:t.boardGroupsSummary,currGroupSummary:t.currGroupSummary},on:{closeTicketDetails:t.closeTicketDetails,saveTicket:t.saveBoard,deleteTicket:t.deleteTicket,addActivity:t.addActivity,cloneTicket:t.cloneTicket,moveTicket:t.moveTicket}}):t._e()],1),r("transition",{attrs:{name:"slide-up"}},[t.show.dashboard&&t.currBoard?r("dashboard",{attrs:{board:t.currBoard},on:{closeDashboard:function(e){t.show.dashboard=!1}}}):t._e()],1),t.userMessage?r("user-message",{attrs:{userMessage:t.userMessage}}):t._e(),r("transition",{attrs:{name:"slide-left"}},[t.show.menu?r("board-menu",{attrs:{activities:t.reverseChronolgicalActivities,boardId:t.currBoard._id,boardBackground:t.currBoard.background},on:{editBackground:function(e){t.show.backgroundEditor=!t.show.backgroundEditor},setBackground:t.setBackground,closeBoardMenu:function(e){t.show.menu=!1}}}):t._e()],1)],1):t._e()},ue=[],de=(r("7db0"),r("c740"),r("a434"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"board-header"},[r("nav",[r("router-link",{attrs:{to:"/"}},[r("i",{staticClass:"fas fa-home"})]),r("router-link",{attrs:{to:"/board"}},[r("i",{staticClass:"fas fa-th-large"}),r("span",{staticClass:"hidden show-normal"},[t._v("Boards")])]),r("div",{staticClass:"ticket-search"},[r("input",{ref:"ticketSearch",attrs:{type:"text"},on:{blur:t.clearInput}}),r("button",{on:{click:function(e){return e.stopPropagation(),t.ticketSearchFocus(e)}}},[r("i",{staticClass:"fas fa-search"})])])],1),r("router-link",{staticClass:"board-header-logo",attrs:{to:"/"}},[r("img",{ref:"logo",attrs:{src:t.logoSrc,alt:""},on:{mouseenter:function(e){return t.logoBounce(1)}}}),r("h1",{on:{mouseenter:function(e){return t.logoBounce(1)}}},[t._v("Treecket")])]),r("avatar",{staticClass:"logged-in-user-avatar",attrs:{username:t.displayUser.fullName,src:t.displayUser.imgSrc,size:30}})],1)}),me=[],he={name:"BoardHeader",props:["user"],data:function(){return{logoSrc:r("8255")}},created:function(){this.logoBounce(3)},methods:{logoBounce:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,a=t*i*100+90;this.logoSrc=r("b4698"),this.logoTimeout=setTimeout((function(){return e.logoSrc=r("8255")}),a)},clearInput:function(){this.$refs.ticketSearch.value=""},ticketSearchFocus:function(){this.$refs.ticketSearch.focus()}},watch:{$route:function(t,e){this.logoBounce(1)}},computed:{displayUser:function(){return this.user?this.user:{fullName:"Guest",imgSrc:"http://res.cloudinary.com/dkdsymsli/image/upload/v1595713140/dklfuu3fq5kcng4qqpfv.png"}}},components:{Avatar:C.a}},pe=he,fe=Object(u["a"])(pe,de,me,!1,null,null,null),ge=fe.exports,be=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"board-controls"},[r("div",[t.editTitle?r("div",[r("span",{staticClass:"input-hider"}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.newTitle,expression:"newTitle"}],ref:"updatedBoardTitle",staticClass:"board-title-input",attrs:{type:"text",maxlength:"36"},domProps:{value:t.newTitle},on:{blur:t.updateBoardTitle,input:[function(e){e.target.composing||(t.newTitle=e.target.value)},t.resizeInput],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateBoardTitle(e)}}})]):r("div",{staticClass:"board-title",on:{click:t.onEditTitle}},[r("div",[t._v(t._s(t.newTitle))])]),t._m(0),r("section",{staticClass:"board-members"},[t.show.boardMembers?r("board-member-selector",{attrs:{boardMembers:t.boardMembers,systemUsers:t.systemUsers},on:{loadUsers:t.loadUsers,closeBoardMemberSelector:function(e){t.show.boardMembers=!1},toggleMember:t.toggleMember}}):t._e()],1),r("section",{staticClass:"board-member-list"},[t._l(t.boardMembers,(function(t){return r("avatar",{key:t._id,staticClass:"board-member-avatar",attrs:{username:t.fullName,src:t.imgSrc,size:32,color:"#fff"}})})),r("button",{staticClass:"board-add-member",on:{click:function(e){t.show.boardMembers=!t.show.boardMembers}}},[r("i",{staticClass:"fas fa-user-plus"})])],2)]),r("div",{staticClass:"end-of-board-controls"},[r("button",{on:{click:t.showDashboard}},[r("i",{staticClass:"dashboard-icon fas fa-chart-area"}),r("span",{staticClass:"hidden show-normal"},[t._v("Dashboard")])]),r("button",{on:{click:t.showMenu}},[r("i",{staticClass:"fas fa-ellipsis-h"}),r("span",{staticClass:"hidden show-normal"},[t._v("Show Menu")])])])])},ve=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"board-privacy"},[r("i",{staticClass:"fas fa-globe-americas"}),r("span",{staticClass:"hidden show-normal"},[t._v("Public")])])}],ke=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"board-member-selector"},[r("h2",[t._v("Members")]),r("button",{staticClass:"close-btn-fa",on:{click:t.closeBoardMemberSelector}},[r("i",{staticClass:"fas fa-times "})]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userFilterBy.txt,expression:"userFilterBy.txt"}],staticClass:"minimal-input",attrs:{type:"search",placeholder:"Search members"},domProps:{value:t.userFilterBy.txt},on:{input:[function(e){e.target.composing||t.$set(t.userFilterBy,"txt",e.target.value)},t.loadUsers]}}),r("h4",[t._v("BOARD MEMBERS")]),r("ul",{staticClass:"clean-list"},t._l(t.filteredUsers,(function(e){return r("li",{key:e._id,staticClass:"member-list-item",on:{click:function(r){return t.toggleMember(e)}}},[r("div",[r("avatar",{staticClass:"member-select-avatar",attrs:{username:e.fullName,src:e.imgSrc,size:28}}),t._v(" "+t._s(e.fullName)+" ")],1),r("span",[t._v(t._s(t._f("isMember")(e,t.boardMembers)))])])})),0)])},Ce=[],ye={name:"BoardMemberSelector",props:{systemUsers:{type:Array,require:!0},boardMembers:{type:Array,require:!0}},data:function(){return{userFilterBy:{txt:""}}},created:function(){this.loadUsers()},computed:{filteredUsers:function(){var t=this,e=_.cloneDeep(this.systemUsers);e.sort((function(t,e){return t.fullName.localeCompare(e.fullName)}));var r=e.filter((function(e){var r=t.boardMembers.filter((function(t){return t._id===e._id}));return r.length})),i=e.filter((function(e){var r=t.boardMembers.filter((function(t){return t._id===e._id}));return!r.length}));return Array.prototype.push.apply(r,i),r}},methods:{loadUsers:function(){this.$emit("loadUsers",this.userFilterBy)},closeBoardMemberSelector:function(){this.$emit("closeBoardMemberSelector",this.userFilterBy)},toggleMember:function(t){this.$emit("toggleMember",t)}},components:{Avatar:C.a}},we=ye,_e=Object(u["a"])(we,ke,Ce,!1,null,null,null),Ae=_e.exports,Te={name:"BoardControls",props:["boardTitle","boardMembers","systemUsers","board"],data:function(){return{editTitle:!1,newTitle:this.boardTitle,show:{boardMembers:!1,dashboard:!1}}},methods:{updateBoardTitle:function(){this.editTitle=!1,this.$emit("updateBoardTitle",this.newTitle)},onEditTitle:function(){var t=this;this.editTitle=!0,this.$nextTick((function(){t.resizeInput(),t.$refs.updatedBoardTitle.focus()}))},loadUsers:function(t){this.$emit("loadUsers",t)},toggleMember:function(t){this.$emit("toggleMember",t)},resizeInput:function(){var t=this.$refs.updatedBoardTitle,e=t.previousElementSibling;e.textContent=t.value,t.style.width=e.offsetWidth+33+"px"},showDashboard:function(){this.$emit("showDashboard")},showMenu:function(){this.$emit("showMenu")}},components:{BoardMemberSelector:Ae,Avatar:C.a}},xe=Te,je=Object(u["a"])(xe,be,ve,!1,null,null,null),Be=je.exports,$e=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ticket-group"},[r("header",{staticClass:"ticket-group-header"},[t.editTitle?r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.group.title,expression:"group.title"}],ref:"updatedGroupTitle",staticClass:"minimal-input",attrs:{type:"text",maxlength:"36"},domProps:{value:t.group.title},on:{blur:t.updateGroupTitle,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateGroupTitle(e)},input:function(e){e.target.composing||t.$set(t.group,"title",e.target.value)}}})]):r("div",{on:{click:t.onEditTitle}},[r("h3",[t._v(t._s(t.group.title))]),t._v(" "+t._s(t.ticketsInGroupCount)+" ")]),r("button",{on:{click:t.toggleGroupMenu}},[r("i",{staticClass:"fas fa-ellipsis-h"})])]),t.groupMenuOpened?r("group-menu",{attrs:{group:t.group},on:{cloneGroup:t.cloneGroup,deleteGroup:t.deleteGroup,closeGroupMenu:t.toggleGroupMenu}}):t._e(),r("div",{staticClass:"tickets-container"},[r("container",{attrs:{"group-name":"col","get-child-payload":t.getTicketPayload,"drag-class":"card-ghost","drop-class":"card-ghost-drop","drop-placeholder":t.dropPlaceholderOptions},on:{drop:t.onTicketDrop}},t._l(t.group.tickets,(function(e){return r("Draggable",{key:e.id},[r("ticket-preview",{attrs:{ticket:e,labels:t.labels,showFullLabel:t.showFullLabels},on:{deleteTicket:t.deleteTicket,changeLabelsDisplay:t.changeLabelsDisplay}})],1)})),1)],1),r("footer",[r("add-ticket",{staticClass:"add-ticket",attrs:{group:t.group},on:{emitAddTicket:t.addTicket}})],1)],1)},Ie=[],Ee=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"ticket-preview",on:{click:function(e){return t.openTicket(t.ticket)}}},[r("button",{staticClass:"edit-ticket-preview-btn",on:{click:function(e){e.stopPropagation(),t.showTicketPreview=!t.showTicketPreview}}},[r("i",{staticClass:"fas fa-pencil-alt"})]),t.showTicketPreview?r("ticket-preview-menu",{attrs:{ticket:t.ticket},on:{deleteTicket:t.deleteTicket}}):t._e(),r("div",{style:{backgroundColor:t.ticket.color}},[t.ticket.cover&&t.getCoverSrc?r("div",{staticClass:"cover-container"},["video"===t.ticket.attachments[0].type?r("iframe",{attrs:{src:t.getCoverSrc,frameborder:"0"}}):r("img",{attrs:{src:t.getCoverSrc}})]):t._e(),r("ul",{staticClass:"label-container clean-list"},t._l(t.getTicketLabels,(function(e){return r("li",{key:e.id,staticClass:"ticket-label"},[t.showFullLabel?r("div",{staticClass:"full-label",style:{backgroundColor:e.color},on:{click:function(e){return e.stopPropagation(),t.changeLabelsDisplay(e)}}},[t._v(t._s(e.title))]):r("div",{style:{backgroundColor:e.color},on:{click:function(e){return e.stopPropagation(),t.changeLabelsDisplay(e)}}})])})),0),r("span",{staticClass:"ticket-preview-title"},[t._v(t._s(t.ticket.title))]),t.bottomContainer?r("div",{staticClass:"bottom-container"},[r("section",{staticClass:"badges-container"},[t.ticket.dueDate?r("div",{staticClass:"due-date",class:{"past-due":"past-due"===t.timeLeft,"due-soon":"due-soon"===t.timeLeft}},[r("i",{staticClass:"far fa-clock"}),r("span",[t._v(t._s(t.dueDateToShow))])]):t._e(),t.ticket.description?r("div",[r("i",{staticClass:"fas fa-align-left"})]):t._e(),t.ticket.comments.length>0?r("div",[r("i",{staticClass:"far fa-comment"}),r("span",[t._v(t._s(t.ticket.comments.length))])]):t._e(),t.ticket.attachments.length>0?r("div",{staticClass:"attachment"},[r("i",{staticClass:"fas fa-paperclip"}),r("span",[t._v(t._s(t.ticket.attachments.length))])]):t._e(),t.itemsCount.itemsCount>0?r("div",{class:{complete:t.itemsCount.doneItemsCount===t.itemsCount.itemsCount}},[r("i",{staticClass:"far fa-check-square"}),r("span",[t._v(t._s(t.itemsCount.doneItemsCount)+"/"+t._s(t.itemsCount.itemsCount))])]):t._e()]),r("div",{staticClass:"ticket-members-container"},t._l(t.ticket.members,(function(e){return r("div",{key:e._id,staticClass:"ticket-member-avatar"},[r("avatar",{directives:[{name:"show",rawName:"v-show",value:t.ticket.members,expression:"ticket.members"}],attrs:{username:e.fullName,src:e.imgSrc,size:28,color:"#fff"}})],1)})),0)]):t._e()])],1)},De=[],Se=(r("a4d3"),r("e01a"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ticket-preview-menu"},[r("header"),r("button",{on:{click:function(e){e.stopPropagation(),t.openLabelsModal=!t.openLabelsModal}}},[t._v(" Edit labels "),t.openLabelsModal?r("labels-selector"):t._e()],1),r("button",[t._v("Change members")]),r("button",{on:{click:t.onCloneTicket}},[t._v("Clone ticket")]),r("button",[t._v("Change due date")]),r("button",{on:{click:function(e){return e.stopPropagation(),t.onDeleteTicket(e)}}},[t._v("Delete")])])}),Me=[],Oe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"labels-modal clean-list"},[r("button",{staticClass:"close-menu-btn",on:{click:t.closeLabelSelector}},[r("i",{staticClass:"fas fa-times"})]),r("h4",[t._v(" Labels ")]),r("labels",{attrs:{labels:t.labels},on:{labelClicked:t.labelClicked}})],1)},Ge=[],Ne=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"labels clean-list"},[t._l(t.labels,(function(e){return r("li",{key:e.id},[t.isEditLabel&&t.labelInEdit.id===e.id?r("form",{on:{submit:function(r){return r.preventDefault(),t.saveLabel(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.labelInEdit.title,expression:"labelInEdit.title"}],attrs:{type:"text",maxlength:"16"},domProps:{value:t.labelInEdit.title},on:{input:function(e){e.target.composing||t.$set(t.labelInEdit,"title",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.labelInEdit.color,expression:"labelInEdit.color"}],attrs:{type:"color",value:"#000000"},domProps:{value:t.labelInEdit.color},on:{input:function(e){e.target.composing||t.$set(t.labelInEdit,"color",e.target.value)}}}),r("button",[t._v("save")])]):r("div",[r("div",{style:{backgroundColor:e.color},on:{click:function(r){return t.onLabelClick(e.id)}}},[r("span",[t._v(t._s(e.title))])]),r("button",{on:{click:function(r){return r.stopPropagation(),t.openLabelEdit(e)}}},[r("i",{staticClass:"fas fa-pencil-alt"})])])])})),t.isOnAddLabel?r("form",{on:{submit:function(e){return e.preventDefault(),t.saveLabel(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.labelInEdit.title,expression:"labelInEdit.title"}],attrs:{type:"text"},domProps:{value:t.labelInEdit.title},on:{input:function(e){e.target.composing||t.$set(t.labelInEdit,"title",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.labelInEdit.color,expression:"labelInEdit.color"}],attrs:{type:"color"},domProps:{value:t.labelInEdit.color},on:{input:function(e){e.target.composing||t.$set(t.labelInEdit,"color",e.target.value)}}}),r("button",[t._v("Save")])]):r("button",{staticClass:"add-button",on:{click:t.onAddLabel}},[t._v(" + Add label")])],2)},Pe=[],Ue=new i["default"],Le=Ue,Re={props:["labels"],data:function(){return{isEditLabel:!1,labelInEdit:null,isOnAddLabel:!1}},methods:{onLabelClick:function(t){this.$emit("labelClicked",t)},openLabelEdit:function(t){this.isEditLabel=!0,this.labelInEdit=t},saveLabel:function(){Le.$emit("updateLabels",this.labelInEdit),this.isEditLabel=!1,this.labelInEdit=null,this.isOnAddLabel=!1},onAddLabel:function(){this.isEditLabel=!1,this.labelInEdit={},this.isOnAddLabel=!0}}},Fe=Re,ze=Object(u["a"])(Fe,Ne,Pe,!1,null,null,null),qe=ze.exports,He={props:["labels"],methods:{closeLabelSelector:function(){this.$emit("closeLabelSelector")},labelClicked:function(t){this.$emit("labelClicked",t)}},components:{Labels:qe}},Qe=He,Je=Object(u["a"])(Qe,Oe,Ge,!1,null,null,null),Ve=Je.exports,Ye={props:["ticket"],data:function(){return{openLabelsModal:!1}},methods:{onDeleteTicket:function(){this.$emit("deleteTicket",this.ticket)},onCloneTicket:function(){this.$emit("cloneTicket",this.ticket)}},componenets:{LabelsSelector:Ve}},We=Ye,Xe=Object(u["a"])(We,Se,Me,!1,null,null,null),Ke=Xe.exports,Ze={props:["ticket","labels","showFullLabel"],data:function(){return{showTicketPreview:!1}},computed:{bottomContainer:function(){if(this.ticket.attachments.length||this.ticket.comments.length||this.ticket.description||this.ticket.members.length||this.itemsCount.itemsCount||this.ticket.dueDate||this.ticket.comments.length)return!0},getCoverSrc:function(){if(this.ticket.attachments.length>0){if("img"===this.ticket.attachments[0].type)return this.ticket.attachments[0].src;if("video"===this.ticket.attachments[0].type){var t=this.getIframeSrc(this.ticket.attachments[0].src);return t}}},itemsCount:function(){if(0===this.ticket.checklists.length)return{itemsCount:0,doneItemsCount:0};var t=0,e=this.ticket.checklists.reduce((function(e,r){return r&&r.items.forEach((function(e){e.isDone&&t++})),e+r.items.length}),0);return{itemsCount:e,doneItemsCount:t}},getTicketLabels:function(){var t=this;if(this.ticket.labels.length>0){var e=this.ticket.labels.map((function(e){return t.labels.find((function(t){return e===t.id}))}));return e}},dueDateToShow:function(){return new Date(this.ticket.dueDate).toLocaleDateString("en-us",{month:"short",day:"numeric"})},timeLeft:function(){return Date.now()+864e5>Date.parse(this.ticket.dueDate)?"past-due":Date.now()+1728e5>Date.parse(this.ticket.dueDate)?"due-soon":void 0}},methods:{openTicket:function(t){var e="/board/".concat(this.$route.params.boardId,"/ticket/").concat(t.id);this.$route.path!==e&&this.$router.push(e)},changeLabelsDisplay:function(){this.$emit("changeLabelsDisplay")},deleteTicket:function(t){this.$emit("deleteTicket",t)},getYoutubeId:function(t){var e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,r=t.match(e);return r&&11===r[2].length?r[2]:null},getIframeSrc:function(t){var e=this.getYoutubeId(t);return"https://www.youtube.com/embed/".concat(e)}},components:{Avatar:C.a,TicketPreviewMenu:Ke}},tr=Ze,er=Object(u["a"])(tr,Ee,De,!1,null,null,null),rr=er.exports,ir=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.showAddTicket?r("form",{on:{submit:function(e){return e.preventDefault(),t.addTicket(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.ticketTitle,expression:"ticketTitle"}],ref:"newTicketTitle",staticClass:"minimal-input",attrs:{rows:"2",maxlength:"75",placeholder:"Enter a title for this ticket..."},domProps:{value:t.ticketTitle},on:{blur:t.onBlur,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTicket(e)},input:function(e){e.target.composing||(t.ticketTitle=e.target.value)}}}),r("button",{staticClass:"add-button",attrs:{type:"submit","data-prevent-blur":"add"}},[t._v("Add Ticket")]),r("button",{staticClass:"cancel-button",attrs:{type:"button","data-prevent-blur":"close"},on:{click:function(e){return e.stopPropagation(),t.toggleAddTicket(e)}}},[t._v("Cancel")])]):r("button",{staticClass:"add-ticket-btn",on:{click:function(e){return e.stopPropagation(),t.toggleAddTicket(e)}}},[r("span",[t._v("+")]),r("span",[t._v("Add another ticket")])])])},ar=[],nr={props:["group"],data:function(){return{ticketTitle:"",showAddTicket:!1}},methods:{toggleAddTicket:function(){var t=this;this.showAddTicket=!this.showAddTicket,this.ticketTitle="",this.showAddTicket&&this.$nextTick((function(){return t.$refs.newTicketTitle.focus()}))},addTicket:function(){if(this.ticketTitle){var t=Dt.getNewTicket(this.ticketTitle);this.$emit("emitAddTicket",{ticket:t,groupId:this.group.id}),this.ticketTitle=""}},onBlur:function(t){if(t.relatedTarget){if(t.relatedTarget.dataset.preventBlur===this.group.id)return;if("close"===t.relatedTarget.dataset.preventBlur)return void this.toggleAddTicket();if("add"===t.relatedTarget.dataset.preventBlur)return this.addTicket(),void this.$refs.newTicketTitle.focus()}else this.ticketTitle&&this.addTicket();this.toggleAddTicket()}},created:function(){var t=this;Le.$on("onAddTicket",(function(e){e===t.group.id&&t.$nextTick((function(){return t.toggleAddTicket()}))}))}},sr=nr,or=Object(u["a"])(sr,ir,ar,!1,null,null,null),cr=or.exports,lr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"groupMenu",staticClass:"group-menu"},[r("header",[r("button",{staticClass:"close-button close-menu-btn",on:{click:t.closeMenu}},[r("i",{staticClass:"fas fa-times"})]),r("h5",[t._v("Group Menu")])]),r("button",{staticClass:"group-menu-btn",attrs:{"data-prevent-blur":t.group.id},on:{click:t.onAddTicket}},[t._v("Add ticket")]),r("button",{staticClass:"group-menu-btn",on:{click:t.onCloneGroup}},[t._v("Clone group")]),r("button",{staticClass:"group-menu-btn",on:{click:t.onDeleteGroup}},[t._v("Delete group")])])},ur=[],dr={props:["group"],methods:{onAddTicket:function(){Le.$emit("onAddTicket",this.group.id),this.closeMenu()},onCloneGroup:function(){this.$emit("cloneGroup",this.group)},onDeleteGroup:function(){this.$emit("deleteGroup")},closeMenu:function(){this.$emit("closeGroupMenu")}}},mr=dr,hr=Object(u["a"])(mr,lr,ur,!1,null,null,null),pr=hr.exports,fr=r("3f7d"),gr=r("2909"),br=function(t,e){var r=e.removedIndex,i=e.addedIndex,a=e.payload;if(null===r&&null===i)return t;var n=Object(gr["a"])(t),s=a;return null!==r&&(s=n.splice(r,1)[0]),null!==i&&n.splice(i,0,s),n},vr={name:"TicketGroup",props:["group","labels","showFullLabels","groupIdx"],data:function(){return{newGroup:this.group,editTitle:!1,groupMenuOpened:!1,dropPlaceholderOptions:{className:"drop-preview",animationDuration:"150",showOnTop:!0}}},methods:{toggleGroupMenu:function(t){this.groupMenuOpened=!this.groupMenuOpened},onEditTitle:function(){var t=this;this.editTitle=!0,this.$nextTick((function(){return t.$refs.updatedGroupTitle.focus()}))},updateGroupTitle:function(){this.editTitle=!1,this.$emit("updateGroup",this.group)},changeLabelsDisplay:function(){this.$emit("changeLabelsDisplay")},onBlur:function(t){if(t.relatedTarget){if("close"===t.relatedTarget.dataset.preventBlur)return void this.toggleAddTicket();if("add"===t.relatedTarget.dataset.preventBlur)return this.addTicket(),void this.$refs.newTicketTitle.focus()}this.ticketTitle?this.addTicket():this.ticketTitle="",this.toggleAddTicket()},addTicket:function(t){var e=t.ticket,r=t.groupId;this.$emit("addTicket",{ticket:e,groupId:r})},cloneGroup:function(t){this.$emit("cloneGroup",t,this.groupIdx),this.toggleGroupMenu()},deleteGroup:function(t){this.$emit("deleteGroup",this.groupIdx),this.toggleGroupMenu()},onTicketDrop:function(t){var e=br(this.group.tickets,t);(t.removedIndex>=0&&null!==t.removedIndex||t.addedIndex>=0&&null!==t.addedIndex)&&this.$emit("updateTickets",{newTickets:e,groupId:this.group.id})},getTicketPayload:function(t){return this.group.tickets[t]},deleteTicket:function(t){this.$emit("deleteTicket",{ticketId:t.id,groupId:this.group.id})}},computed:{ticketsInGroupCount:function(){return this.group.tickets.length?this.group.tickets.length:""}},components:{TicketPreview:rr,Container:fr["Container"],Draggable:fr["Draggable"],AddTicket:cr,GroupMenu:pr}},kr=vr,Cr=Object(u["a"])(kr,$e,Ie,!1,null,null,null),yr=Cr.exports,wr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-group"},[r("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[t.addNewGroup?r("div",{class:t.groupClass},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.newGroupTitle,expression:"newGroupTitle"}],ref:"newGroupTitle",staticClass:"minimal-input",attrs:{type:"text",placeholder:"Enter new list title"},domProps:{value:t.newGroupTitle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addGroup()},blur:t.onBlur,input:function(e){e.target.composing||(t.newGroupTitle=e.target.value)}}}),r("div",[r("button",{staticClass:"add-button",attrs:{"data-prevent-blur":"add"},on:{click:function(e){return e.stopPropagation(),t.addGroup(e)}}},[t._v("Add list")]),r("button",{staticClass:"cancel-button"},[t._v("Cancel")])])]):r("button",{staticClass:"add-group-btn",on:{click:function(e){return e.stopPropagation(),t.toggleAddGroup(e)}}},[t._v("+ Add another list")])])],1)},_r=[],Ar={name:"AddGroup",data:function(){return{addNewGroup:!1,newGroupTitle:""}},computed:{groupClass:function(){return this.addNewGroup?"add-group-selected":""}},methods:{addGroup:function(){var t=this;this.newGroupTitle&&(this.$emit("addGroup",this.newGroupTitle),this.newGroupTitle="",this.addNewGroup&&this.$nextTick((function(){return t.$refs.newGroupTitle.focus()})))},toggleAddGroup:function(){var t=this;this.addNewGroup=!this.addNewGroup,this.newGroupTitle="",this.addNewGroup&&setTimeout((function(){return t.$refs.newGroupTitle.focus()}),300)},onBlur:function(t){t.relatedTarget&&"add"===t.relatedTarget.dataset.preventBlur||this.toggleAddGroup()}}},Tr=Ar,xr=Object(u["a"])(Tr,wr,_r,!1,null,null,null),jr=xr.exports,Br=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"ticketDetails",staticClass:"ticket-details",attrs:{tabindex:"0"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeTicketDetails(e)}}},[r("header",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.ticket.title,expression:"ticket.title"}],ref:"title",staticClass:"ticket-title",attrs:{maxlength:"75"},domProps:{value:t.ticket.title},on:{input:[function(e){e.target.composing||t.$set(t.ticket,"title",e.target.value)},function(e){return t.expandTextareaEl()}],blur:t.saveTicket}}),r("button",{staticClass:"close-btn",on:{click:t.closeTicketDetails}},[r("i",{staticClass:"fas fa-times"})])]),r("main",{staticClass:"ticket-body"},[r("section",{ref:"ticketContent",staticClass:"ticket-content"},[r("div",{staticClass:"ticket-content-top"},[t.getTicketLabels.length>0?r("ul",{staticClass:"labels-container clean-list"},t._l(t.getTicketLabels,(function(e){return r("li",{key:e.id,staticClass:"label",style:{backgroundColor:e.color}},[t._v(t._s(e.title))])})),0):t._e(),r("div",{staticClass:"ticket-members"},t._l(t.ticket.members,(function(t){return r("avatar",{key:t._id,staticClass:"ticket-member-avatar",attrs:{username:t.fullName,src:t.imgSrc,size:32}})})),1)]),r("section",{staticClass:"ticket-description"},[t._m(0),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ticket.description,expression:"ticket.description"}],staticClass:"ticket-description",attrs:{placeholder:"Add a description..."},domProps:{value:t.ticket.description},on:{blur:t.saveTicket,input:function(e){e.target.composing||t.$set(t.ticket,"description",e.target.value)}}})]),r("ticket-attachments",{attrs:{ticket:t.ticket},on:{deleteAttachment:t.deleteAttachment,makeCover:t.makeCover,changeCoverStatus:t.changeCoverStatus}}),r("ticket-checklists",{attrs:{ticket:t.ticket},on:{checklistDeleted:t.checklistDeleted,updateTicket:t.saveTicket,addItem:t.addItem}}),r("div",{staticClass:"log-selector"},[r("h3",[t._v("Activity")]),r("div",{staticClass:"ticket-activity-selector"},[r("span",[t._v("Show:")]),r("button",{class:{selected:"Comments"===t.logView},on:{click:function(e){t.logView="Comments"}}},[r("i",{staticClass:"far fa-comment"}),t._v(" Comments ")]),r("button",{class:{selected:"History"===t.logView},on:{click:function(e){t.logView="History"}}},[r("i",{staticClass:"fas fa-history"}),t._v(" History ")])])]),"Comments"===t.logView?r("ticket-comments",{attrs:{comments:t.ticket.comments,user:t.user},on:{updateTicket:t.saveTicket}}):t._e(),"History"===t.logView?r("div",t._l(t.ticketActivities,(function(t){return r("ticket-history",{key:t.id,attrs:{activity:t}})})),1):t._e()],1),r("ticket-menu",{attrs:{ticket:t.ticket,labels:t.labels,boardMembers:t.boardMembers,boardGroupsSummary:t.boardGroupsSummary,currGroupSummary:t.currGroupSummary},on:{changeCoverStatus:t.changeCoverStatus,moveTicket:t.moveTicket,saveTicket:t.saveTicket,toggleMember:t.toggleMember,updateTicketLabel:t.updateTicketLabel,addChecklist:t.addChecklist,addAttachment:t.addAttachment,cloneTicket:t.cloneTicket,deleteTicket:t.deleteTicket}})],1),r("footer",[r("add-comment",{on:{addComment:t.addComment}})],1)])},$r=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h3",[r("i",{staticClass:"fas fa-align-left"}),t._v(" Description ")])}],Ir=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ticket-menu"},[r("ticket-group-selector",{attrs:{boardGroupsSummary:t.boardGroupsSummary,currGroupSummary:t.currGroupSummary},on:{moveTicket:t.moveTicket}}),t._m(0),r("el-date-picker",{staticClass:"due-date-input",attrs:{type:"date",placeholder:"Pick due date",format:"MMM-dd-yyyy"},on:{change:t.saveTicket},model:{value:t.ticket.dueDate,callback:function(e){t.$set(t.ticket,"dueDate",e)},expression:"ticket.dueDate"}}),r("h3",[t._v("ADD TO CARD")]),r("button",{on:{click:function(e){t.show.memberSelector=!t.show.memberSelector}}},[r("i",{staticClass:"far fa-user"}),t._v(" Members ")]),t.show.memberSelector?r("MemberSelector",{attrs:{boardMembers:t.boardMembers,ticketMembers:t.ticket.members},on:{toggleMember:t.toggleMember,closeMemberSelect:function(e){t.show.memberSelector=!1}}}):t._e(),r("button",{on:{click:function(e){t.show.labelSelector=!t.show.labelSelector}}},[r("i",{staticClass:"fas fa-tag"}),t._v(" Labels ")]),r("label-selector",{directives:[{name:"show",rawName:"v-show",value:t.show.labelSelector,expression:"show.labelSelector"}],attrs:{labels:t.labels},on:{labelClicked:t.labelClicked,closeLabelSelector:function(e){t.show.labelSelector=!1}}}),r("button",{on:{click:t.onAddChecklist}},[r("i",{staticClass:"far fa-check-square"}),t._v(" Checklist ")]),r("button",{on:{click:function(e){t.show.addAttachment=!t.show.addAttachment}}},[r("i",{staticClass:"fas fa-paperclip"}),t._v(" Attachment ")]),t.show.addAttachment?r("add-attachment",{on:{addAttachment:t.addAttachment,closeAddAttachment:function(e){t.show.addAttachment=!1}}}):t._e(),r("button",{on:{click:function(e){t.show.addAttachment=!t.show.addAttachment}}},[r("i",{staticClass:"fas fa-palette"}),t._v(" Background ")]),r("h3",[t._v("ACTIONS")]),r("button",{on:{click:t.onClone}},[r("i",{staticClass:"far fa-clone"}),t._v(" Clone ")]),t._m(1),r("button",{on:{click:function(e){return e.stopPropagation(),t.onTicketDelete(t.ticket.id)}}},[r("i",{staticClass:"far fa-trash-alt"}),t._v(" Delete ")])],1)},Er=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"date-picker-title"},[r("i",{staticClass:"far fa-clock"}),t._v(" Due Date ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",[r("i",{staticClass:"fas fa-share-alt"}),t._v(" Share ")])}],Dr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"member-selector"},[r("h2",[t._v("Members")]),r("button",{on:{click:t.closeMemberSelect}},[r("i",{staticClass:"fas fa-times close-btn-fa"})]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userFilterBy.txt,expression:"userFilterBy.txt"}],staticClass:"minimal-input",attrs:{type:"search",placeholder:"Search members"},domProps:{value:t.userFilterBy.txt},on:{input:function(e){e.target.composing||t.$set(t.userFilterBy,"txt",e.target.value)}}}),r("h4",[t._v("BOARD MEMBERS")]),r("ul",{staticClass:"clean-list"},t._l(t.filteredUsers,(function(e){return r("li",{key:e._id,staticClass:"member-list-item",on:{click:function(r){return t.toggleMember(e)}}},[r("div",[r("avatar",{staticClass:"member-select-avatar",attrs:{username:e.fullName,src:e.imgSrc,size:28}}),t._v(" "+t._s(e.fullName)+" ")],1),r("span",[t._v(t._s(t._f("isMember")(e,t.ticketMembers)))])])})),0)])},Sr=[],Mr={name:"MemberSelector",props:{boardMembers:{type:Array,require:!0},ticketMembers:{type:Array,require:!1}},data:function(){return{userFilterBy:{txt:""}}},computed:{filteredUsers:function(){var t=this,e=_.cloneDeep(this.boardMembers).filter((function(e){return e.fullName.toLowerCase().includes(t.userFilterBy.txt.toLowerCase())}));e.sort((function(t,e){return t.fullName.localeCompare(e.fullName)}));var r=e.filter((function(e){var r=t.ticketMembers.filter((function(t){return t._id===e._id}));return r.length})),i=e.filter((function(e){var r=t.ticketMembers.filter((function(t){return t._id===e._id}));return!r.length}));return Array.prototype.push.apply(r,i),r}},methods:{toggleMember:function(t){this.$emit("toggleMember",t)},closeMemberSelect:function(){this.$emit("closeMemberSelect")}},components:{Avatar:C.a}},Or=Mr,Gr=Object(u["a"])(Or,Dr,Sr,!1,null,null,null),Nr=Gr.exports,Pr={},Ur=Object(u["a"])(Pr,Yt,Wt,!1,null,null,null),Lr=Ur.exports,Rr={},Fr=Object(u["a"])(Rr,Xt,Kt,!1,null,null,null),zr=Fr.exports,qr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"background-palette clean-list"},t._l(t.backgrounds[t.type],(function(e){return r("li",{key:e},[r("div",{style:{background:e},on:{click:function(r){return t.setBackground(e)}}})])})),0)},Hr=[],Qr={props:["type"],data:function(){return{backgrounds:{ticketColors:["rgb(255, 191, 175)","rgb(229, 152, 155)","rgb(203, 119, 148)","rgb(226, 158, 182)","rgb(211, 173, 215)","rgb(131, 197, 190)","rgb(56, 153, 162)"],backgroundColors:["rgb(46, 121, 186)","rgb(72, 171, 200)","rgb(106, 188, 114)","rgb(98, 149, 70)","rgb(132, 99, 154)","rgb(191, 98, 143)","rgb(164, 76, 56)","rgb(202, 146, 71)"],images:["url(https://images.wallpapersden.com/image/download/fractal-red-mountains_63786_3840x2160.jpg) center / cover","url(https://images.wallpapersden.com/image/download/minimal-mountains_57564_3840x2160.jpg) center / cover","url(https://images.wallpapersden.com/image/download/digital-sunset-art_70508_3840x2160.jpg) center / cover","url(https://images.hdqwalls.com/wallpapers/minimal-mountains-landscape-4k-az.jpg) center / cover","url(https://images.wallpapersden.com/image/download/city-art-5k_68664_3840x2160.jpg) center / cover","url(https://images.wallpapersden.com/image/download/spill-of-colors_63349_3840x2160.jpg) center / cover","url(https://images.wallpapersden.com/image/download/scifi-astronaut-space-mars_57674_2560x1440.jpg) center / cover","url(https://images.wallpapersden.com/image/download/mountains-trees-forest-3d-minimalism_59769_1920x1080.jpg) center / cover","url(https://res.cloudinary.com/dkdsymsli/image/upload/v1595784408/vlyweeydsdsmvarf2pto.jpg) center / cover","url(https://wallpapercave.com/wp/wp4093025.jpg) center / cover"]}}},methods:{setBackground:function(t){this.$emit("setBackground",t)}}},Jr=Qr,Vr=Object(u["a"])(Jr,qr,Hr,!1,null,null,null),Yr=Vr.exports,Wr={},Xr=Object(u["a"])(Wr,Zt,te,!1,null,null,null),Kr=Xr.exports,Zr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"add-attachment",on:{submit:function(e){return e.preventDefault(),t.addAttachment(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.attachmentSrc,expression:"attachmentSrc"}],staticClass:"minimal-input",attrs:{type:"url",placeholder:"Paste any link to attach"},domProps:{value:t.attachmentSrc},on:{input:function(e){e.target.composing||(t.attachmentSrc=e.target.value)}}}),r("button",{staticClass:"save-button",attrs:{type:"submit"}},[t._v("Attach")]),r("button",{staticClass:"cancel-button",attrs:{type:"button"},on:{click:[function(e){return e.stopPropagation(),t.hideForm(e)},t.closeAddAttachment]}},[t._v("Cancel")])])},ti=[],ei={data:function(){return{attachmentSrc:""}},methods:{addAttachment:function(){this.$emit("addAttachment",this.attachmentSrc)},closeAddAttachment:function(){this.$emit("closeAddAttachment")}}},ri=ei,ii=Object(u["a"])(ri,Zr,ti,!1,null,null,null),ai=ii.exports,ni=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ticket-group-selector"},[r("el-dropdown",{on:{command:t.moveTicket}},[r("span",{staticClass:"el-dropdown-link"},[t._v(" "+t._s(t.currGroupSummary.title.toUpperCase())+" "),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{staticClass:"group-selector",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.boardGroupsSummary,(function(e){return r("el-dropdown-item",{key:e.id,attrs:{command:e.id}},[t._v(t._s(e.title.toUpperCase()))])})),1)],1)],1)},si=[],oi={name:"TicketGroupSelector",props:{boardGroupsSummary:{type:Array,require:!0},currGroupSummary:{type:Object,require:!0}},methods:{moveTicket:function(t){this.$emit("moveTicket",t)}}},ci=oi,li=Object(u["a"])(ci,ni,si,!1,null,null,null),ui=li.exports,di={name:"TicketMenu",props:{ticket:{type:Object,required:!0},labels:{type:Array,required:!0},boardMembers:{type:Array,require:!0},currTicketGroup:{type:String,require:!0},groupsSummary:{type:Array,require:!0},boardGroupsSummary:{type:Array,require:!0},currGroupSummary:{type:Object,require:!0}},data:function(){return{show:{memberSelector:!1,labelSelector:!1,checklistCreator:!1,dateSelector:!1,addAttachment:!1,coverTool:!1,dueDate:!1}}},methods:{onTicketDelete:function(t){this.$emit("deleteTicket",t)},onAddChecklist:function(){this.$emit("addChecklist")},labelClicked:function(t){this.$emit("updateTicketLabel",t)},loadUsers:function(t){this.$emit("loadUsers",t)},toggleMember:function(t){this.$emit("toggleMember",t)},changeCoverStatus:function(){this.$emit("changeCoverStatus")},onClone:function(){this.$emit("cloneTicket",this.ticket)},saveTicket:function(){this.$emit("saveTicket")},addAttachment:function(t){this.$emit("addAttachment",t)},moveTicket:function(t){this.$emit("moveTicket",t)},clearDueDate:function(){this.$emit("clearDueDate")}},components:{MemberSelector:Nr,LabelSelector:Ve,ChecklistCreator:Lr,DateSelector:zr,BackgroundPalette:Yr,CoverTool:Kr,AddAttachment:ai,TicketGroupSelector:ui}},mi=di,hi=(r("2668"),Object(u["a"])(mi,Ir,Er,!1,null,null,null)),pi=hi.exports,fi=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ticket-checklists"},t._l(t.ticket.checklists,(function(e,i){return r("Checklist",{key:e.id,attrs:{checklist:e,checklistIdx:i},on:{updateChecklist:t.updateTicket,deleteChecklist:t.deleteChecklist,addItem:t.addItem}})})),1)},gi=[],bi=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"checklist"},[t.showChecklistTitleEdit?r("form",{on:{submit:function(e){return e.preventDefault(),t.saveTitle(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.checklist.title,expression:"checklist.title"}],ref:"checklistTitle",attrs:{type:"text"},domProps:{value:t.checklist.title},on:{blur:function(e){return t.cancelUpdateTitle(e,t.checklist)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.saveTitle(e)},input:function(e){e.target.composing||t.$set(t.checklist,"title",e.target.value)}}}),r("button",{staticClass:"save-button",attrs:{type:"submit","data-prevent-blur":"saveTitle"}},[t._v("Save")]),r("button",{staticClass:"cancel-button",attrs:{type:"button"}},[t._v("X")])]):r("section",{staticClass:"check-list-title-preview"},[r("h4",{on:{click:function(e){return t.editTitle(t.checklist)}}},[r("i",{staticClass:"far fa-check-square"}),t._v(" "+t._s(t.checklist.title))]),r("button",{staticClass:"delete-button",on:{click:t.deleteChecklist}},[t._v("Delete")])]),r("div",{staticClass:"progress-bar-container"},[r("h6",[t._v(t._s(t._f("progressBar")(t.checklist.items)))]),r("div",{staticClass:"progress-bar"},[r("div",{staticClass:"prec-done",class:{complete:"100%"===t.doneItemsPrec},style:{width:t.doneItemsPrec}})])]),r("ul",{staticClass:"clean-list"},[t._l(t.checklist.items,(function(e,i){return r("li",{key:e.id},[t.onEditItemId!==e.id?r("div",{staticClass:"checklist-item"},[r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.isDone,expression:"item.isDone"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isDone)?t._i(e.isDone,null)>-1:e.isDone},on:{change:[function(r){var i=e.isDone,a=r.target,n=!!a.checked;if(Array.isArray(i)){var s=null,o=t._i(i,s);a.checked?o<0&&t.$set(e,"isDone",i.concat([s])):o>-1&&t.$set(e,"isDone",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(e,"isDone",n)},function(e){return e.stopPropagation(),t.updateChecklist(e)}]}}),r("span",{class:{done:e.isDone},on:{click:function(r){return t.toggleEditItem(e)}}},[t._v(t._s(e.txt))])]),r("button",{staticClass:"underline-button",on:{click:function(e){return t.deleteItem(i)}}},[t._v("Delete")])]):r("div",[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.txt,expression:"item.txt"}],ref:"editItem",refInFor:!0,attrs:{cols:"30",rows:"3"},domProps:{value:e.txt},on:{blur:function(r){return t.onBlurEditItem(r,e)},input:function(r){r.target.composing||t.$set(e,"txt",r.target.value)}}}),t._v(" "),r("button",{staticClass:"save-button",attrs:{"data-prevent-blur":"save"}},[t._v("Save")]),r("button",{staticClass:"cancel-button"},[t._v("Cancel")])])])})),t.showNewItem&&t.checklist.id===t.onEditChecklistId?r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.itemTxt,expression:"itemTxt"}],ref:"addItem",staticClass:"minimal-input",attrs:{type:"text",placeholder:"Add an item"},domProps:{value:t.itemTxt},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onAddItem(e,t.checklist.id)},blur:function(e){return t.onBlurAddItem(e,t.checklist.id)},input:function(e){e.target.composing||(t.itemTxt=e.target.value)}}}),r("button",{staticClass:"save-button",attrs:{"data-prevent-blur":"add"}},[t._v("Save")]),r("button",{staticClass:"cancel-button",on:{click:t.toggleAddItem}},[t._v("Cancel")])]):r("button",{staticClass:"add-button add-an-item",on:{click:function(e){return t.toggleAddItem(!0,t.checklist.id)}}},[t._v("Add an item")])],2)])},vi=[],ki=(r("a623"),r("b680"),{props:["checklist","checklistIdx"],data:function(){return{showNewItem:!1,onEditChecklistId:null,onEditItemId:null,itemTxt:"",onEditItemTxt:"",showChecklistTitleEdit:!1,onEditChecklistTitle:"",allowConfetti:!0}},created:function(){var t=this;Le.$on("checklistAdded",(function(e){t.editTitle(e)}))},computed:{doneItemsPrec:function(){var t=this.checklist.items.reduce((function(t,e){return e.isDone?++t:t}),0);return t?(t/this.checklist.items.length*100).toFixed(0)+"%":"0%"}},methods:{updateChecklist:function(){this.$emit("updateChecklist",this.checklist),this.checklist.items.length>0&&this.checklist.items.every((function(t){return t.isDone}))&&this.confetti()},deleteChecklist:function(){this.$emit("deleteChecklist",this.checklistIdx,this.checklist.id)},editTitle:function(t){var e=this;this.onEditChecklistTitle=t.title,this.showChecklistTitleEdit=!0,this.$nextTick((function(){return e.$refs.checklistTitle.focus()}))},saveTitle:function(){var t=this;this.checklist.title?(this.onEditChecklistTitle="",this.showChecklistTitleEdit=!1,this.updateChecklist()):this.$nextTick((function(){return t.$refs.checklistTitle.focus()}))},cancelUpdateTitle:function(t,e){!t.relatedTarget||t.relatedTarget&&"saveTitle"===t.relatedTarget.dataset.preventBlur||(e.title=this.onEditChecklistTitle,this.onEditChecklistTitle="",this.showChecklistTitleEdit=!1)},toggleAddItem:function(t,e){var r=this;this.showNewItem=t,this.showNewItem&&this.$nextTick((function(){return r.$refs.addItem.focus()})),this.itemTxt="",this.onEditChecklistId=this.showNewItem?e:null},toggleEditItem:function(t){var e=this;this.onEditItemId?(this.onEditItemId=null,this.onEditItemTxt=""):(this.showNewItem=!1,this.onEditItemId=t.id,this.$nextTick((function(){return e.$refs.editItem[0].focus()})),this.onEditItemTxt=t.txt)},onAddItem:function(t,e){this.itemTxt&&(this.$emit("addItem",{itemTxt:this.itemTxt,checklistId:e}),this.itemTxt="",this.toggleAddItem(!1))},onBlurAddItem:function(t,e){t.relatedTarget&&"add"===t.relatedTarget.dataset.preventBlur?this.onAddItem(t,e):this.toggleAddItem(!1)},onBlurEditItem:function(t,e){t.relatedTarget&&"save"===t.relatedTarget.dataset.preventBlur?this.saveUpdateChanges(e):(e.txt=this.onEditItemTxt,this.toggleEditItem(e))},saveUpdateChanges:function(t){this.updateChecklist(),this.toggleEditItem(t)},deleteItem:function(t){this.checklist.items.splice(t,1),this.updateChecklist()},confetti:function(){var t=this;this.allowConfetti&&(this.allowConfetti=!1,this.$confetti.start({particles:[{type:"image",url:"https://res.cloudinary.com/dfhfhz5le/image/upload/v1595372019/treecket_hmoifu.png",size:20},{type:"rect"}],defaultDropRate:14}),setTimeout((function(){t.$confetti.stop()}),3500))}}}),Ci=ki,yi=Object(u["a"])(Ci,bi,vi,!1,null,null,null),wi=yi.exports,_i={props:["ticket"],methods:{updateTicket:function(t){var e=this.ticket.checklists.findIndex((function(e){return e.id===t.id}));this.ticket.checklists.splice(e,1,t),this.$emit("updateTicket",this.ticket)},deleteChecklist:function(t,e){this.ticket.checklists.splice(t,1),this.$emit("updateTicket",this.ticket),this.$emit("checklistDeleted",e)},addItem:function(t){var e=t.itemTxt,r=t.checklistId;this.$emit("addItem",{itemTxt:e,checklistId:r})}},components:{Checklist:wi}},Ai=_i,Ti=Object(u["a"])(Ai,fi,gi,!1,null,null,null),xi=Ti.exports,ji=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ticket-comments"},[t.comments?r("div",{staticClass:"comment-previews"},[r("transition-group",{attrs:{name:"slide-up-fade-right"}},t._l(t.comments,(function(e){return r("ticket-comment",{key:e.id,staticClass:"ticket-comment",attrs:{comment:e},on:{deleteComment:t.deleteComment,updateTicket:t.updateTicket}})})),1)],1):t._e()])},Bi=[],$i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ticket-comment"},[r("div",{staticClass:"comment-img"},[r("avatar",{attrs:{username:t.comment.by.fullName,src:t.comment.by.imgSrc,size:32,color:"#fff"}})],1),r("div",[r("p",{staticClass:"comment-by"},[r("span",[t._v(t._s(t._f("capitalize")(t.comment.by.fullName)))]),t._v(" "+t._s(t._f("formatTime")(t.comment.createdAt))+" ")]),t.editing?r("div",{staticClass:"editing-comment"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.commentEditText,expression:"commentEditText"}],ref:"editText",attrs:{type:"text"},domProps:{value:t.commentEditText},on:{input:function(e){e.target.composing||(t.commentEditText=e.target.value)}}}),r("div",[r("button",{staticClass:"save-button",on:{click:t.editComment}},[t._v("Save")]),r("button",{staticClass:"cancel-button",on:{click:function(e){t.editing=!1}}},[t._v("Cancel")])])]):r("p",{staticClass:"comment-text"},[t._v(t._s(t.comment.txt))]),t.editing?t._e():r("div",[r("button",{staticClass:"underline-button",on:{click:t.openEdit}},[t._v("Edit")]),r("span",{staticClass:"dot-seperator"}),r("button",{staticClass:"underline-button",on:{click:function(e){return t.deleteComment(t.comment.id)}}},[t._v("Delete")])])])])},Ii=[],Ei={name:"TicketComment",props:["comment"],data:function(){return{commentEditText:"",editing:!1}},created:function(){this.commentEditText=_.cloneDeep(this.comment.txt)},methods:{openEdit:function(){var t=this;this.editing=!0,this.$nextTick((function(){t.$refs.editText.focus()}))},editComment:function(){this.editing=!1,this.comment.txt=this.commentEditText,this.$emit("updateTicket",this.comment.txt)},deleteComment:function(t){this.$emit("deleteComment",t)}},components:{Avatar:C.a}},Di=Ei,Si=Object(u["a"])(Di,$i,Ii,!1,null,null,null),Mi=Si.exports,Oi={name:"TicketComments",props:["comments","user"],data:function(){return{enteringComment:!1,newCommentText:""}},methods:{addComment:function(){this.newCommentText&&(this.$emit("addComment",this.newCommentText),this.newCommentText="")},deleteComment:function(t){var e=this.comments.findIndex((function(e){return e.id===t}));e<0||(this.comments.splice(e,1),this.$emit("updateTicket"))},updateTicket:function(){this.$emit("updateTicket")}},components:{Avatar:C.a,TicketComment:Mi}},Gi=Oi,Ni=Object(u["a"])(Gi,ji,Bi,!1,null,null,null),Pi=Ni.exports,Ui=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ul",{staticClass:"ticket-attachments clean-list"},t._l(t.ticket.attachments,(function(e,i){return r("li",{key:e.id},[r("Attachment",{attrs:{attachment:e,idx:i,ticket:t.ticket},on:{deleteAttachment:t.deleteAttachment,showAddAttachment:t.showAddAttachment,makeCover:t.makeCover,removeCover:t.removeCover}})],1)})),0)])},Li=[],Ri=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"file-container"},["img"===t.srcType(t.attachment.src)?r("img",{staticClass:"video-ratio",attrs:{src:t.attachment.src,alt:t.attachment.type}}):"video"===t.srcType(t.attachment.src)?r("iframe",{attrs:{allowfullscreen:"",src:t.getIframeSrc(t.attachment.src),alt:t.attachment.type}}):r("a",{staticClass:"video-ratio",style:{background:"url("+t.attachment.src+")"},attrs:{href:t.attachment.src,alt:t.attachment.type+" "+t.attachment.title}})]),t.attachmentEdit?r("form",{on:{submit:function(e){return e.preventDefault(),t.updateChanges(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.attachment.title,expression:"attachment.title"}],attrs:{type:"text"},domProps:{value:t.attachment.title},on:{input:function(e){e.target.composing||t.$set(t.attachment,"title",e.target.value)}}}),r("button",{attrs:{type:"submit"}},[t._v("Save")]),r("button",{attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.closeEdit(e)}}},[t._v("X")])]):r("h5",{on:{click:t.showAttachmentEdit}},[t._v(t._s(t.attachment.title))]),r("div",{staticClass:"btn-container"},[r("button",{staticClass:"underline-button",attrs:{icon:"fa-clipboard"}},[t._v("Copy")]),"img"===t.attachment.type||"video"===t.attachment.type?r("button",{staticClass:"underline-button"},[t.isCover?r("span",{on:{click:t.onRemoveCover}},[t._v("Remove cover")]):r("span",{on:{click:function(e){return t.onMakeCover(t.attachment.id)}}},[t._v("Make cover")])]):t._e(),r("button",{staticClass:"underline-button",on:{click:function(e){return t.onDeleteAttachment(t.attachment.id)}}},[t._v("Delete")])])])},Fi=[],zi={props:["attachment","idx","ticket"],data:function(){return{attachmentEdit:!1}},computed:{isCover:function(){return!(0!==this.idx||!this.ticket.cover)}},methods:{onDeleteAttachment:function(t){this.$emit("deleteAttachment",t)},srcType:function(t){return t.includes("jpg")||t.includes("png")||t.includes("gif")||t.includes("scg")?"img":t.includes("embed")||t.includes("watch")?"video":void 0},getYoutubeId:function(t){var e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,r=t.match(e);return r&&11===r[2].length?r[2]:null},getIframeSrc:function(t){var e=this.getYoutubeId(t);return"https://www.youtube.com/embed/".concat(e)},showAddAttachment:function(){this.$emit("showAddAttachment")},showAttachmentEdit:function(){this.attachmentEdit=!this.attachmentEdit},onMakeCover:function(t){this.$emit("makeCover",t)},onRemoveCover:function(){this.$emit("removeCover")}}},qi=zi,Hi=Object(u["a"])(qi,Ri,Fi,!1,null,null,null),Qi=Hi.exports,Ji={props:["ticket"],methods:{deleteAttachment:function(t){this.$emit("deleteAttachment",t)},showAddAttachment:function(){this.$emit("showAddAttachment")},makeCover:function(t){this.$emit("makeCover",t)},removeCover:function(){this.$emit("changeCoverStatus")}},components:{Attachment:Qi}},Vi=Ji,Yi=Object(u["a"])(Vi,Ui,Li,!1,null,null,null),Wi=Yi.exports,Xi=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ticket-activity"},[r("div",{staticClass:"activity-img"},[r("avatar",{attrs:{username:t.activity.by.fullName,src:t.activity.by.imgSrc,size:32}})],1),r("div",[r("p",{staticClass:"activity-by"},[r("span",[t._v(t._s(t._f("capitalize")(t.activity.by.fullName)))]),t._v(" "+t._s(t._f("formatTime")(t.activity.createdAt))+" ")]),r("p",{staticClass:"activity-text"},[t._v(t._s(t.activity.txt))])])])},Ki=[],Zi={name:"TicketHistory",props:["activity"],components:{Avatar:C.a}},ta=Zi,ea=Object(u["a"])(ta,Xi,Ki,!1,null,null,null),ra=ea.exports,ia=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-comment"},[r("form",{staticClass:"input-wrapper"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.newCommentText,expression:"newCommentText"}],staticClass:"minimal-input",attrs:{type:"text",placeholder:"Add a comment..."},domProps:{value:t.newCommentText},on:{click:function(e){e.preventDefault(),t.enteringComment=!0},input:function(e){e.target.composing||(t.newCommentText=e.target.value)}}}),r("div",[r("button",{staticClass:"save-button",on:{click:function(e){return e.preventDefault(),t.addComment(e)}}},[t._v("Save")]),r("button",{staticClass:"cancel-button"},[t._v("Cancel")])])])])},aa=[],na={data:function(){return{newCommentText:""}},methods:{addComment:function(){this.newCommentText&&(this.$emit("addComment",this.newCommentText),this.newCommentText="")}},components:{Avatar:C.a}},sa=na,oa=Object(u["a"])(sa,ia,aa,!1,null,null,null),ca=oa.exports,la={props:{ticket:Object,ticketIdx:Number,groupId:String,user:Object,labels:Array,ticketActivities:Array,boardMembers:Array,boardGroupsSummary:Array,currGroupSummary:Object},data:function(){return{logView:"Comments",isAddingAllow:!0}},computed:{overlay:function(){return this.$store.getters.overlay},getTicketLabels:function(){var t=this,e=this.ticket.labels.map((function(e){return t.labels.find((function(t){return e===t.id}))}));return e}},created:function(){var t=this;this.$store.commit("toggleOverlay",!0),this.$nextTick((function(){return t.$refs.ticketDetails.focus()}))},mounted:function(){this.$watch("overlay",(function(t,e){this.closeTicketDetails()}))},destroyed:function(){this.$store.commit("toggleOverlay",!1)},methods:{saveTicket:function(){this.$emit("saveTicket",this.ticket)},closeTicketDetails:function(){this.$emit("closeTicketDetails")},deleteTicket:function(t){this.$emit("addActivity","Deleted ticket ".concat(this.ticket.title),this.ticket.id),this.$emit("deleteTicket",{ticketId:t,groupId:this.groupId}),this.$emit("closeTicketDetails")},expandTextareaEl:function(){var t=this.$refs.title;t.style.height="",t.style.height=t.scrollHeight+"px"},addChecklist:function(){if(this.isAddingAllow){this.isAddingAllow=!1;var t=Dt.getNewChecklist();this.ticket.checklists.unshift(t),this.$store.commit("setUserMessage",{msg:"New checklist added to ticket"}),this.$emit("addActivity","Added a checklist to ".concat(this.ticket.title),this.ticket.id),this.saveTicket(),Le.$emit("checklistAdded",t),this.isAddingAllow=!0}},checklistDeleted:function(t){this.$emit("addActivity","Deleted a checklist on ".concat(this.ticket.title),this.ticket.id)},addItem:function(t){var e=t.itemTxt,r=t.checklistId,i=Dt.getNewChecklistItem(e),a=this.ticket.checklists.findIndex((function(t){return t.id===r}));this.ticket.checklists[a].items.push(i),this.$emit("addActivity",'Added checklist item "'.concat(e,'" to ').concat(this.ticket.title),this.ticket.id),this.saveTicket()},addComment:function(t){var e=this,r=Dt.getNewComment(t);this.ticket.comments.push(r),this.$emit("addActivity",'Added comment "'.concat(t,'" to ').concat(this.ticket.title),this.ticket.id),this.saveTicket(),this.$nextTick((function(){return e.$refs.ticketContent.scrollTop=e.$refs.ticketContent.scrollHeight}))},changeComments:function(t){this.ticket.comments=t,this.saveTicket()},updateTicketLabel:function(t){var e=this.ticket.labels,r=e.findIndex((function(e){return e===t}));r>=0?e.splice(r,1):e.push(t),this.saveTicket()},addAttachment:function(t){var e=Dt.getNewAttachment(t);this.ticket.attachments.push(e),this.saveTicket(),this.$emit("addActivity","Added attachment ".concat(t," to ").concat(this.ticket.title),this.ticket.id)},deleteAttachment:function(t){var e=this.ticket.attachments.findIndex((function(e){return e.id===t}));e>=0&&(this.$emit("addActivity","Deleted attachment ".concat(this.ticket.attachments[e].src," on ").concat(this.ticket.title),this.ticket.id),this.ticket.attachments.splice(e,1),this.$store.commit("setUserMessage",{msg:"Attachment deleted"})),this.saveTicket()},makeCover:function(t){this.ticket.cover=!0;var e=this.ticket.attachments.findIndex((function(e){return e.id===t}));if(e>=0){this.$emit("addActivity","Changed the cover on ".concat(this.ticket.title),this.ticket.id);var r=this.ticket.attachments.splice(e,1);this.ticket.attachments.unshift(r[0]),this.saveTicket()}},toggleMember:function(t){var e=this.ticket.members.findIndex((function(e){return e._id===t._id}));e>=0?(this.ticket.members.splice(e,1),this.$emit("addActivity","Removed ".concat(t.fullName," from ticket ").concat(this.ticket.title),this.ticket.id)):(this.ticket.members.push(t),this.$emit("addActivity","Assigned ".concat(t.fullName," to ticket ").concat(this.ticket.title),this.ticket.id)),this.saveTicket()},changeCoverStatus:function(){this.ticket.cover=!this.ticket.cover,this.saveTicket()},cloneTicket:function(t){this.$emit("addActivity","Cloned ".concat(this.ticket.title),this.ticket.id),this.$emit("cloneTicket",t,this.ticketIdx,this.groupId)},moveTicket:function(t){this.$emit("moveTicket",t)}},components:{TicketMenu:pi,TicketChecklists:xi,TicketComments:Pi,TicketAttachments:Wi,TicketHistory:ra,Avatar:C.a,AddComment:ca}},ua=la,da=Object(u["a"])(ua,Br,$r,!1,null,null,null),ma=da.exports,ha=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-message"},[r("h3",[t._v(t._s(t.userMessage))])])},pa=[],fa={name:"UserMessage",props:["userMessage"],created:function(){var t=this;setTimeout((function(){t.$store.commit("setUserMessage","")}),3e3)}},ga=fa,ba=Object(u["a"])(ga,ha,pa,!1,null,null,null),va=ba.exports,ka=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"dashboard"},[i("button",{staticClass:"close-dashboard-btn",on:{click:t.closeDashboard}},[i("img",{attrs:{src:r("ffd8"),alt:""}})]),t._m(0),i("div",{staticClass:"top-data"},[i("div",{staticClass:"data-container"},[t._m(1),i("div",{staticClass:"dashboard-data"},[i("span",[t._v(t._s(t.ticketsCount))]),t._v(" Tickets ")])]),i("div",{staticClass:"data-container"},[t._m(2),i("div",{staticClass:"dashboard-data"},[i("span",[t._v(t._s(t.board.members.length))]),t._v(" Members ")])]),i("div",{staticClass:"data-container"},[t._m(3),i("div",{staticClass:"dashboard-data"},[i("span",[t._v(t._s(t.board.activities.length))]),t._v(" Activities ")])]),i("div",{staticClass:"data-container"},[t._m(4),i("div",{staticClass:"dashboard-data"},[i("span",[t._v(t._s(t.commentCount))]),t._v(" Comments ")])])]),i("tickets-by-week",{attrs:{board:t.board}}),i("div",{staticClass:"chart-section-one"},[i("tickets-per-member",{staticClass:"tickets-per-member-chart",attrs:{board:t.board}}),i("tickets-per-group",{staticClass:"tickets-per-group-chart",attrs:{board:t.board}})],1)],1)},Ca=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h2",[r("i",{staticClass:"fas fa-chart-area"}),t._v(" Dashboard ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"total-tickets-count"},[r("i",{staticClass:"fas fa-align-left"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"total-board-members-count"},[r("i",{staticClass:"far fa-user-circle"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"total-board-activities"},[r("i",{staticClass:"fas fa-history"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"total-comments"},[r("i",{staticClass:"far fa-comments"})])}],ya=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"tickets-per-group"},[t.showChart?r("tickets-per-group-chart",{attrs:{options:t.options,label:"Tickets per group",chartData:t.chartData}}):t._e()],1)},wa=[],_a=(r("07ac"),r("1fca"));Chart.defaults.global.defaultFontColor="white",Chart.defaults.global.elements.point.radius=8;var Aa,Ta,xa,ja,Ba,$a,Ia={name:"TicketsPerGroupChart",extends:_a["a"],props:{label:{type:String},chartData:{type:Object},options:{type:Object}},mounted:function(){var t=this.chartData.groupTitle,e=this.chartData.ticketCount;this.renderChart({labels:t,datasets:[{label:this.label,data:e,backgroundColor:this.chartData.colors,borderColor:this.chartData.colors}]},this.options)}},Ea=Ia,Da=Object(u["a"])(Ea,Aa,Ta,!1,null,null,null),Sa=Da.exports,Ma={name:"TicketsPerGroup",props:{board:{type:Object,require:!0}},data:function(){return{chartData:{},options:{responsive:!0,maintainAspectRatio:!1,scaleFontColor:"#FFFFFF",legend:{fontColor:"#fff",labels:{fontColor:"white",fontSize:20}},scales:{yAxes:[{ticks:{fontColor:"white",stepSize:1,beginAtZero:!0}}]}},showChart:!1}},created:function(){this.calculateData()},methods:{calculateData:function(){var t={};this.board.groups.forEach((function(e){var r=e.title;t[r]=e.tickets.length})),this.chartData.groupTitle=Object.keys(t),this.chartData.ticketCount=Object.values(t);var e=["#355070","#6D597A","#B56576","#E56B6F","#EAAC8B","#17bebb","#9fa2b2","#09bc8a","#a0a4b8","#034078","#f4f9e9","#776290","#674D73","#d9e5d6","#baf2e9","#674D73","#c16e70","#b4b8ab","#04395e","#c17c74","#a7cced","#82a0bc"],r=[];while(r.length<this.chartData.ticketCount.length){var i=Math.floor(Math.random()*Math.floor(e.length));r.push(e[i])}this.chartData.colors=r,this.showChart=!0}},components:{TicketsPerGroupChart:Sa}},Oa=Ma,Ga=Object(u["a"])(Oa,ya,wa,!1,null,null,null),Na=Ga.exports,Pa=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"tickets-by-week"},[t.chartData.weeks.length>0?r("tickets-by-week-chart",{attrs:{options:t.options,label:"New tickets by week",chartData:t.chartData}}):t._e()],1)},Ua=[],La={name:"TicketsByWeekChart",extends:_a["c"],props:{label:{type:String},chartData:{type:Object},options:{type:Object}},data:function(){return{gradient:null}},mounted:function(){this.gradient=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient.addColorStop(0,"rgba(2, 198, 237, 0.9)"),this.gradient.addColorStop(.5,"rgba(2, 198, 237, 0.5)"),this.gradient.addColorStop(1,"rgba(2, 198, 237, 0)");var t=this.chartData.weeks;this.chartData.ticketCount;this.renderChart({labels:t,datasets:[{label:this.label,data:this.chartData.ticketCount,backgroundColor:this.gradient,borderColor:"rgba(2, 198, 237,.5)",pointBackgroundColor:"#fff"}]},this.options)}},Ra=La,Fa=Object(u["a"])(Ra,xa,ja,!1,null,null,null),za=Fa.exports,qa={name:"TicketsByWeek",props:{board:{type:Object,require:!0}},data:function(){return{chartData:{},options:{responsive:!0,maintainAspectRatio:!1,legend:{labels:{fontColor:"white",fontSize:20}},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}},created:function(){this.calculateData()},methods:{calculateData:function(){var t=this,e=_.cloneDeep(this.board),r=[];e.groups.forEach((function(t){t.tickets.forEach((function(t){r.push(t)}))})),r.sort((function(t,e){return t.createdAt-e.createdAt}));var i={};r.forEach((function(t){if(!(Date.now()-t.createdAt>31536e6)){var e=n()(t.createdAt).isoWeek();i[e]=i[e]||0,i[e]++}}));var a=Object.keys(i);this.chartData.weeks=[],a.forEach((function(e){t.chartData.weeks.push("Week "+e)})),this.chartData.ticketCount=Object.values(i);var s=["#77777755"],o=[];while(o.length<this.chartData.ticketCount.length){var c=Math.floor(Math.random()*Math.floor(s.length));o.push(s[c])}this.chartData.colors=o,this.showChart=!0}},components:{TicketsByWeekChart:za}},Ha=qa,Qa=Object(u["a"])(Ha,Pa,Ua,!1,null,null,null),Ja=Qa.exports,Va=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"tickets-per-member"},[r("tickets-per-member-chart",{attrs:{options:t.options,label:"Tickets per member",chartData:t.chartData}})],1)},Ya=[],Wa={name:"TicketsPerMemberChart",extends:_a["b"],props:{label:{type:String},chartData:{type:Object},options:{type:Object}},mounted:function(){var t=this.chartData.fullName,e=this.chartData.ticketCount;this.renderChart({labels:t,datasets:[{label:this.label,data:e,backgroundColor:this.chartData.colors,borderColor:this.chartData.colors}]},this.options)}},Xa=Wa,Ka=Object(u["a"])(Xa,Ba,$a,!1,null,null,null),Za=Ka.exports,tn={name:"TicketsPerMember",props:{board:{type:Object,require:!0}},data:function(){return{chartData:{},options:{responsive:!0,maintainAspectRatio:!1,legend:{labels:{fontColor:"white",fontSize:16}}}}},created:function(){this.calculateData()},methods:{calculateData:function(){var t=_.cloneDeep(this.board),e=[];t.groups.forEach((function(t){t.tickets.forEach((function(t){e.push(t)}))}));var r={};for(var i in e.forEach((function(t){t.members.forEach((function(t){var e=t._id;r.hasOwnProperty(e)?r[e].ticketCount++:r[e]={fullName:t.fullName,imgSrc:t.imgSrc,ticketCount:1}}))})),this.chartData.fullName=[],this.chartData.imgSrc=[],this.chartData.ticketCount=[],r)this.chartData.fullName.push(r[i].fullName),this.chartData.imgSrc.push(r[i].imgSrc),this.chartData.ticketCount.push(r[i].ticketCount);var a=["#355070","#6D597A","#B56576","#E56B6F","#EAAC8B","#17bebb","#9fa2b2","#09bc8a","#a0a4b8","#034078","#f4f9e9","#776290","#674D73","#d9e5d6","#baf2e9","#674D73","#c16e70","#b4b8ab","#04395e","#c17c74","#a7cced","#82a0bc"],n=[];while(n.length<this.chartData.ticketCount.length){var s=Math.floor(Math.random()*Math.floor(a.length));n.push(a[s])}this.chartData.colors=n}},components:{TicketsPerMemberChart:Za}},en=tn,rn=Object(u["a"])(en,Va,Ya,!1,null,null,null),an=rn.exports,nn={name:"Dashboard",props:{board:{type:Object,require:!0}},created:function(){this.$store.commit("toggleOverlay",!0)},mounted:function(){this.$watch("overlay",(function(t,e){this.closeDashboard()}))},destroyed:function(){this.$store.commit("toggleOverlay",!1)},methods:{closeDashboard:function(){this.$emit("closeDashboard")}},computed:{overlay:function(){return this.$store.getters.overlay},ticketsCount:function(){var t=0;return this.board.groups.forEach((function(e){e.tickets.forEach((function(e){t++}))})),t},commentCount:function(){var t=0;return this.board.groups.forEach((function(e){e.tickets.forEach((function(e){e.comments.forEach((function(e){t++}))}))})),t}},components:{TicketsPerGroup:Na,TicketsByWeek:Ja,TicketsPerMember:an}},sn=nn,on=Object(u["a"])(sn,ka,Ca,!1,null,null,null),cn=on.exports,ln=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"board-menu"},[i("header",[i("button",{staticClass:"close-button",on:{click:t.closeMenu}},[i("img",{attrs:{src:r("d063"),alt:""}})]),i("h3",[t._v("Menu")])]),i("div",{staticClass:"buttons-container"},[i("div",[i("span",{staticClass:"background-icon",style:{background:t.boardBackground}}),i("button",{staticClass:"board-menu-btn",on:{click:t.toggleTypeMenu}},[t._v("Background")])]),i("basic-modal",[i("transition",{attrs:{name:"slide-up-fade-right",mode:"out-in"}},[t.show.typeMenu?i("section",{staticClass:"background-type-selector"},[i("div",{on:{click:function(e){return t.openBackgroundSelector("images")}}},[i("div",{staticClass:"images-navigator"}),i("span",[t._v("Images")])]),i("div",[i("div",{staticClass:"colors-navigator",on:{click:function(e){return t.openBackgroundSelector("backgroundColors")}}}),i("span",[t._v("Colors")])])]):t.show.backgroundSelector?i("div",[i("background-palette",{attrs:{type:t.type},on:{setBackground:t.setBackground}})],1):t._e()])],1),i("div",{staticClass:"delete-button-container"},[i("button",{staticClass:"board-menu-delete",on:{click:t.deleteBoard}},[t._v("Delete Board")]),i("i",{staticClass:"far fa-trash-alt"})])],1),t._m(0),t._l(t.activities,(function(e){return i("board-history",{key:e.id,attrs:{activity:e,boardId:t.boardId}})}))],2)},un=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"activity-header"},[r("i",{staticClass:"fas fa-list-ul"}),r("h3",[t._v("Activity")])])}],dn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"board-activity"},[r("div",{staticClass:"activity-img"},[r("avatar",{attrs:{username:t.activity.by.fullName,src:t.activity.by.imgSrc,size:32}})],1),r("div",[r("p",{staticClass:"activity-by"},[r("span",[t._v(t._s(t._f("capitalize")(t.activity.by.fullName)))]),t._v(" "+t._s(t._f("formatTime")(t.activity.createdAt))+" ")]),r("p",{staticClass:"activity-text"},[t._v(t._s(t.activity.txt))]),t.activity.ticketId?r("button",{staticClass:"underline-button",on:{click:function(e){return t.openTicket(t.activity.ticketId)}}},[t._v("View ticket")]):t._e()])])},mn=[],hn={name:"BoardHistory",props:["activity","boardId"],components:{Avatar:C.a},created:function(){},methods:{openTicket:function(t){var e="/board/".concat(this.boardId,"/ticket/").concat(t);this.$router.push(e)}}},pn=hn,fn=Object(u["a"])(pn,dn,mn,!1,null,null,null),gn=fn.exports,bn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"basic-modal"},[t._t("default")],2)},vn=[],kn={},Cn=kn,yn=Object(u["a"])(Cn,bn,vn,!1,null,null,null),wn=yn.exports,_n={name:"BoardMenu",props:{activities:{type:Array,require:!0},boardId:{type:String,require:!0},boardBackground:{type:String}},data:function(){return{type:"",show:{backgroundSelector:!1,typeMenu:!1}}},methods:{deleteBoard:function(t){this.$emit("deleteBoard")},editBackground:function(){this.$emit("editBackground")},openBackgroundSelector:function(t){this.show.typeMenu=!1,this.show.backgroundSelector=!0,this.type=t},toggleTypeMenu:function(){this.show.backgroundSelector=!1,this.type="",this.show.typeMenu=!this.show.typeMenu},setBackground:function(t){this.$emit("setBackground",t)},closeMenu:function(){this.$emit("closeBoardMenu")}},components:{BoardHistory:gn,BasicModal:wn,BackgroundPalette:Yr}},An=_n,Tn=Object(u["a"])(An,ln,un,!1,null,null,null),xn=Tn.exports,jn=r("5b6c"),Bn={data:function(){return{show:{dashboard:!1,fullLabel:!1,menu:!1,backgroundEditor:!1},selectedTicket:null,selectedTicketIdx:null,selectedGroupId:null}},created:function(){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadBoard();case 2:ot.setup(),ot.emit("feed board",t.$route.params.boardId),ot.on("feed update",t.loadBoard),Le.$on("updateLabels",(function(e){var r=t.currBoard,i=r.labels.findIndex((function(t){return t.id===e.id}));i>=0?r.labels.splice(i,1,e):(e=Dt.getAllowLabel(e),r.labels.push(e)),t.saveBoard()}));case 6:case"end":return e.stop()}}),e)})))()},destoryed:function(){ot.off("feed update",this.$route.params.boardId),ot.terminate(),this.$store.commit("setBoard",null)},methods:{updateGroup:function(t){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i=e.currBoard,a=i.groups.findIndex((function(e){return e.id===t.id})),!(a<0)){r.next=4;break}return r.abrupt("return");case 4:return i.groups[a]=t,r.next=7,e.$store.dispatch("updateBoard",i);case 7:ot.emit("updateBoard",e.currBoard._id);case 8:case"end":return r.stop()}}),r)})))()},closeTicketDetails:function(){this.selectedTicket=null,this.selectedGroupId=null,this.selectedTicketIdx=null,this.$router.push("/board/".concat(this.currBoard._id))},addTicket:function(t){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function r(){var i,a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=t.ticket,a=t.groupId,n=e.currBoard,s=n.groups.findIndex((function(t){return t.id===a})),n.groups[s].tickets.push(i),e.addActivity("Added a new ticket",i.id),r.next=7,e.$store.dispatch("updateBoard",n);case 7:ot.emit("updateBoard",e.currBoard._id);case 8:case"end":return r.stop()}}),r)})))()},deleteTicket:function(t){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function r(){var i,a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i=t.ticketId,a=t.groupId,n=e.currBoard.groups.findIndex((function(t){return t.id===a})),s=e.currBoard.groups[n].tickets.findIndex((function(t){return t.id===i})),!(n<0||s<0)){r.next=5;break}return r.abrupt("return");case 5:e.currBoard.groups[n].tickets.splice(s,1),e.addActivity("deleted a ticket"),e.saveBoard();case 8:case"end":return r.stop()}}),r)})))()},saveBoard:function(){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("updateBoard",t.currBoard);case 2:ot.emit("updateBoard",t.currBoard._id);case 3:case"end":return e.stop()}}),e)})))()},updateTickets:function(t){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function r(){var i,a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i=t.newTickets,a=t.groupId,n=e.currBoard,s=n.groups.findIndex((function(t){return t.id===a})),!(s<0)){r.next=5;break}return r.abrupt("return");case 5:return n.groups[s].tickets=i,r.next=8,e.$store.dispatch("updateBoard",n);case 8:ot.emit("updateBoard",e.currBoard._id);case 9:case"end":return r.stop()}}),r)})))()},loadBoard:function(){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("loadBoard",t.$route.params.boardId);case 2:t.$route.params.ticketId&&(t.selectedGroupId=t.currBoard.groups.find((function(e){return t.selectedTicket=e.tickets.find((function(e,r){return t.selectedTicketIdx=r,e.id===t.$route.params.ticketId}))})).id);case 3:case"end":return e.stop()}}),e)})))()},onGroupDrop:function(t){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=br(e.currBoard.groups,t),a=e.currBoard,a.groups=i,r.next=5,e.$store.dispatch("updateBoard",a);case 5:ot.emit("updateBoard",e.currBoard._id);case 6:case"end":return r.stop()}}),r)})))()},getGroupPayload:function(t){return this.currBoard.groups[t]},addGroup:function(t){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.currBoard,a=Dt.getNewGroup(t),i.groups.push(a),r.next=5,e.$store.dispatch("updateBoard",i);case 5:ot.emit("updateBoard",e.currBoard._id);case 6:case"end":return r.stop()}}),r)})))()},toggleScrollCursor:function(t){this.$el.style.cursor="dragscrollstart"===t.type?"ew-resize":"default"},updateBoardTitle:function(t){this.currBoard.title=t,this.addActivity("Changed the board name to ".concat(t)),this.saveBoard()},addActivity:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Dt.getNewActivity(t,e);this.currBoard.activities.push(r)},changeLabelsDisplay:function(){this.show.fullLabel=!this.show.fullLabel},cloneTicket:function(t,e,r){this.addActivity("Cloned a ticket",t.id);var i=Dt.cloneTicket(t),a=this.currBoard.groups.findIndex((function(t){return t.id===r}));a<0||(this.currBoard.groups[a].tickets.splice(e,0,i),this.saveBoard())},cloneGroup:function(t,e){this.addActivity("Cloned group ".concat(t.title));var r=Dt.cloneGroup(t);this.currBoard.groups.splice(e,0,r),this.saveBoard()},deleteGroup:function(t){this.addActivity("Deleted group ".concat(this.currBoard.groups[t].title)),this.currBoard.groups.splice(t,1),this.saveBoard()},loadUsers:function(t){this.$store.dispatch("loadUsers",t)},toggleMember:function(t){delete t.email;var e=this.currBoard.members.findIndex((function(e){return e._id===t._id}));e>=0?(this.currBoard.members.splice(e,1),this.addActivity("Removed ".concat(t.fullName," from board"))):(this.currBoard.members.push(t),this.addActivity("Added ".concat(t.fullName," to board"))),this.saveBoard()},setBackground:function(t){this.addActivity("Changed the board background"),this.currBoard.background=t,this.saveBoard()},moveTicket:function(t){var e=this,r=this.currBoard.groups.findIndex((function(t){return t.tickets.find((function(t){return t.id===e.selectedTicket.id}))}));if(!(r<0)){var i=this.currBoard.groups[r].tickets.findIndex((function(t){return t.id===e.selectedTicket.id}));if(!(i<0)){var a=this.currBoard.groups.findIndex((function(e){return e.id===t}));if(!(a<0)){this.addActivity("Moved ".concat(this.selectedTicket.title," from ").concat(this.currBoard.groups[r].title," to ").concat(this.currBoard.groups[a].title),this.selectedTicket.id);var n=_.cloneDeep(this.selectedTicket);this.currBoard.groups[r].tickets.splice(i,1),this.currBoard.groups[a].tickets.unshift(n),this.saveBoard()}}}}},computed:{background:function(){if(this.$route.params.boardId){var t=this.currBoard;return t?t.background+(t.background.includes("url")?" fixed":""):""}},userMessage:function(){return this.$store.getters.userMessage},currBoard:function(){return _.cloneDeep(this.$store.getters.currBoard)},loggedInUser:function(){return this.$store.getters.loggedInUser},ticketActivities:function(){var t=this;return _.cloneDeep(this.currBoard.activities.filter((function(e){return e.ticketId===t.selectedTicket.id})).reverse())},systemUsers:function(){return this.$store.getters.users},boardGroupsSummary:function(){var t=[],e=_.cloneDeep(this.currBoard);return e.groups.forEach((function(e){t.push({id:e.id,title:e.title})})),t},currGroupSummary:function(){var t=this,e=_.cloneDeep(this.currBoard),r=e.groups.find((function(e){return e.tickets.find((function(e){return e.id===t.selectedTicket.id}))}));return{id:r.id,title:r.title}},reverseChronolgicalActivities:function(){return _.cloneDeep(this.currBoard.activities.reverse())}},components:{BoardHeader:ge,BoardControls:Be,Container:fr["Container"],Draggable:fr["Draggable"],TicketGroup:yr,AddGroup:jr,TicketDetails:ma,UserMessage:va,Dashboard:cn,BoardMenu:xn},directives:{dragscroll:jn["dragscroll"]},watch:{$route:function(t,e){var r=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r.loadBoard();case 1:case"end":return t.stop()}}),t)})))()}}},$n=Bn,In=Object(u["a"])($n,le,ue,!1,null,null,null),En=In.exports,Dn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login"},[r("h2",[t._v(t._s(t.msg))]),t.loggedInUser?r("div",[r("h3",[t._v(" Logged in user: "+t._s(t.loggedInUser.fullName)+" "),r("form",{on:{submit:function(e){return e.preventDefault(),t.updateUser(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.userToEdit.fullName,expression:"userToEdit.fullName"}],attrs:{type:"text"},domProps:{value:t.userToEdit.fullName},on:{input:function(e){e.target.composing||t.$set(t.userToEdit,"fullName",e.target.value)}}})]),r("button",{on:{click:t.doLogout}},[t._v("Log out")])])]):r("div",["Login"===t.route?r("form",{staticClass:"login-page",on:{submit:function(e){return e.preventDefault(),t.doLogin(e)}}},[r("h2",[t._v("Log in to your account")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.email,expression:"loginCred.email"}],staticClass:"minimal-input",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.loginCred.email},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"email",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.password,expression:"loginCred.password"}],staticClass:"minimal-input",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.loginCred.password},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"password",e.target.value)}}}),r("button",[t._v("Continue")]),r("router-link",{staticClass:"cancel-button",attrs:{to:"/signup"}},[t._v("Sign up for an account")])],1):r("form",{staticClass:"signup-page",on:{submit:function(e){return e.preventDefault(),t.doSignup(e)}}},[r("h2",[t._v("Sign up for your account")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.email,expression:"signupCred.email"}],staticClass:"minimal-input",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.signupCred.email},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"email",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.password,expression:"signupCred.password"}],staticClass:"minimal-input",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.signupCred.password},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"password",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.fullName,expression:"signupCred.fullName"}],staticClass:"minimal-input",attrs:{type:"text",placeholder:"Full name"},domProps:{value:t.signupCred.fullName},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"fullName",e.target.value)}}}),r("label",{attrs:{for:"upload-input"}},[t._v("Upload your profile")]),r("input",{staticClass:"minimal-input",attrs:{type:"file",id:"upload-input"},on:{change:t.onUploadImg}}),r("button",[t._v("Sign up")]),r("router-link",{attrs:{to:"/login"}},[t._v("Already have a Treecket account? Log in")])],1)])])},Sn=[],Mn=(r("b0c0"),r("5530")),On=function(t){var e="oayxgkn3",r="dkdsymsli",i="https://api.cloudinary.com/v1_1/".concat(r,"/image/upload"),a=new FormData;return a.append("file",t.target.files[0]),a.append("upload_preset",e),fetch(i,{method:"POST",body:a}).then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){return console.error(t)}))},Gn={name:"test",data:function(){return{route:null,loginCred:{},signupCred:{},msg:"",userToEdit:{}}},computed:{users:function(){return this.$store.getters.users},loggedInUser:function(){return this.$store.getters.loggedInUser}},created:function(){this.setPage()},methods:{doLogin:function(){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.loginCred,r.email&&r.password){e.next=3;break}return e.abrupt("return",t.msg="Please enter user/password");case 3:return e.prev=3,e.next=6,t.$store.dispatch({type:"login",userCred:r});case 6:t.loginCred={},t.$router.push("/board"),e.next=14;break;case 10:throw e.prev=10,e.t0=e["catch"](3),e.t0;case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))()},doLogout:function(){this.$store.dispatch({type:"logout"})},doSignup:function(){var t=this.signupCred;if(!t.email||!t.password||!t.fullName)return this.msg="Please fill up the form";this.signupCred.type="user",this.$store.dispatch({type:"signup",userCred:t}),this.$router.push("/board")},getAllUsers:function(){this.$store.dispatch({type:"loadUsers"})},removeUser:function(t){this.$store.dispatch({type:"removeUser",userId:t})},updateUser:function(){this.$store.dispatch({type:"updateUser",user:this.userToEdit})},setPage:function(){this.route=this.$route.name},onUploadImg:function(t){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,On(t);case 2:i=r.sent,e.signupCred.imgSrc=i.url;case 4:case"end":return r.stop()}}),r)})))()}},watch:{loggedInUser:function(){this.userToEdit=Object(Mn["a"])({},this.loggedInUser)},$route:function(t,e){this.setPage()}},components:{FixedHeader:T}},Nn=Gn,Pn=Object(u["a"])(Nn,Dn,Sn,!1,null,null,null),Un=Pn.exports;i["default"].use(p["a"]);var Ln=[{path:"/",name:"Home",component:$},{path:"/board",name:"BoardList",component:ce},{path:"/login",name:"Login",component:Un},{path:"/signup",name:"Signup",component:Un},{path:"/board/:boardId",name:"BoardDetails",component:En,children:[{path:"ticket/:ticketId",name:"TicketDetails",component:ma},{path:"dashboard",name:"Dashboard",component:cn}]},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))}}],Rn=new p["a"]({routes:Ln}),Fn=Rn,zn=(r("15f5"),r("7051"),r("890b")),qn=r.n(zn),Hn=r("5c96"),Qn=r.n(Hn);r("0fae"),r("fb98");i["default"].use(Qn.a),i["default"].use(qn.a),i["default"].config.productionTip=!1,new i["default"]({router:Fn,store:pt,render:function(t){return t(m)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";var i=r("9c0c"),a=r.n(i);a.a},6170:function(t,e,r){t.exports=r.p+"img/scrum-board.56dd3b03.png"},"81a5":function(t,e,r){t.exports=r.p+"img/logo.b6efb17f.png"},8255:function(t,e,r){t.exports=r.p+"img/logo-white.df81233c.png"},"9c0c":function(t,e,r){},b4698:function(t,e,r){t.exports=r.p+"img/logo-white-bouncing.ee973fba.gif"},d063:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJISURBVHic7ZtLbsMgEECfc4pKzSpKmxyjvWXPkQskx+iiS6ftLejCVHISUjAwAzYdCTmSLTzv8bHlAMAaeAM+7XFjjGGJBdhcsa6xP8yofAH70skKwO8t25j1DWvDLFnCHXgDfK6AA7fxABy7rts7zs0qLMORgek6DjCMC5ed356wK92CCS2/87BtfF3EMAyR2Umw8K7hfTHEQ8bJ7CSEwl8IWIqEKfA3AgIqqFpCTO7ZKipdYnNOqfC5NPQo1+fYBku1WlxCCrxXQO0SUuGDBARIOJeQYOHPqfNULtuqEgLgg3PJ2eVUJOSEnywgIIEz8CQI/+S59+QGkGgFEQkS8NECtCVIwScJ0JIgCZ8sICDBPkWCrbsXFazQRaMkaMBnE5BbghZ8VgEBiffANqCOraeOrE+YrAJSJWjDiwiIlVACXkzAVAml4EUFBIJtQ66RzLGziYpF13Vb4AQ8Ok739rh2nDsDL8aYD6HUAOQFgFeCK1TgAVbSNwCwIC8MYL5QgwclAXAhof/jsh5FeFAUUGuoCRjNA64J7zfWwMleqxIqAiZOgo8oShAXEPAYdM0JehJafxGShG/3VXgKfGkJVcCXlFANfCkJueHb/CSWE15bQpXwmhJS4dv9Y0QDXkNC9fDSEmYBLykhBr7NBRI1wEtICL1hu4ukPPDLXiZXM3wuCbOGzyEhFn65i6XnCJ+S+3UF7W6YWAJ8jITFwU+VAK1vm+N26+zd8TLH4und/1tnXVtnv4FXY8w7CwnL8srANo4DNL59/gcAGHwJKnacXAAAAABJRU5ErkJggg=="},dc48:function(t,e,r){t.exports=r.p+"img/note-list-mobile.6ea74b42.png"},fb98:function(t,e,r){},ffd8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkBxwBBgC+dgqyAAAB8ElEQVRo3s2ZsW7CMBCGz0mzVYKhG5WCEAx9iaqh6ksDUiQm+gQMVCwNKkNjE8HWgjuEAmkIxPadXW92pP//4jj2+Q5EmI74RgxXHbDYVp3cVYSQjrjkkkueZD1b9lmPJ7mrGDC+htv9+MKPGjMb9tsYWvvO2pOvhyetbUw/CwV7YBO26uzGxwHqWSjaw8J79JpzP4LFySyMPx8s2S93L835/sHvouCSS/5Bg3DRhR7hqgMtQi11OoTayjQISqr4CMqKuAhaangI2ko4CEYq5gjGCmYCKHOoL4K2irIef1cXQv2Psq4qAvpOooZAspfWRyA7TeohkJ6n1xHII4rLCFZiqmoEOyFdJYKZPVNF2MZwf+gud/3g+0+k27+bEgKUI3sAs1uFMkBpFo5N+e01ASoQtOw1AQBEW8bQPhlI/KjxpqPk6QF4AQSFgZuvQE9J7xMUF2Le7H2Cs/baCM5/Q8U1UL5g+0+QHPqkl3uo2nTVoyZUe2sIl48ccoTrJx4pQr0Dlwyh/nlPgqAWbqAjqEc7qAh6wRYagsHlFAPB8HpuioCQoDBBQErRdJ1miLSVHKfpHCcqHadqHSerHafrHRcsHJdsrKUXzjo5L9uxdMSebdmXEdjwH5VuLdkDNGbHUimbgAjFkG/EwHb5PncV4Q8T9+TYHgX+pQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wNy0yOFQwMTowNjowMCswMDowMDEFS/MAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDctMjhUMDE6MDY6MDArMDA6MDBAWPNPAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=app.d644eddb.js.map